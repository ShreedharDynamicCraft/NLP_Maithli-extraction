<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-1 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-disabled skin-theme-clientpref-day vector-sticky-header-enabled vector-toc-not-available" lang="mai" dir="ltr">
<head>
<meta charset="UTF-8">
<title>प्रयोगकर्ता:Jim Carter/vector.js - विकिपिडिया</title>
<script>(function(){var className="client-js vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-1 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-disabled skin-theme-clientpref-day vector-sticky-header-enabled vector-toc-not-available";var cookie=document.cookie.match(/(?:^|; )maiwikimwclientpreferences=([^;]+)/);if(cookie){cookie[1].split('%2C').forEach(function(pref){className=className.replace(new RegExp('(^| )'+pref.replace(/-clientpref-\w+$|[^\w-]+/g,'')+'-clientpref-\\w+( |$)'),'$1'+pref+'$2');});}document.documentElement.className=className;}());RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"81f88adf-6182-4e4e-820b-caf305f21690","wgCanonicalNamespace":"User","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":2,"wgPageName":"प्रयोगकर्ता:Jim_Carter/vector.js","wgTitle":"Jim Carter/vector.js","wgCurRevisionId":137754,"wgRevisionId":137754,"wgArticleId":25533,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgPageViewLanguage":"en","wgPageContentLanguage":"en","wgPageContentModel":"javascript","wgRelevantPageName":"प्रयोगकर्ता:Jim_Carter/vector.js","wgRelevantArticleId":25533,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgRelevantUserName":"Jim Carter","wgNoticeProject":"wikipedia","wgCiteReferencePreviewsActive":true,"wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgPopupsFlags":0,"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","pageVariantFallbacks":"en"},"wgMFDisplayWikibaseDescriptions":{"search":true,"watchlist":true,"tagline":true,"nearby":true},"wgWMESchemaEditAttemptStepOversample":false,"wgWMEPageLength":50000,"wgEditSubmitButtonLabelPublish":true,"wgULSPosition":"interlanguage","wgULSisCompactLinksEnabled":false,"wgVector2022LanguageInHeader":true,"wgULSisLanguageSelectorEmpty":false,"wgCheckUserClientHintsHeadersJsApi":["brands","architecture","bitness","fullVersionList","mobile","model","platform","platformVersion"],"GEHomepageSuggestedEditsEnableTopics":true,"wgGETopicsMatchModeEnabled":false,"wgGELevelingUpEnabledForUser":false};
RLSTATE={"ext.globalCssJs.user.styles":"ready","site.styles":"ready","user.styles":"ready","ext.globalCssJs.user":"ready","user":"ready","user.options":"loading","mediawiki.action.styles":"ready","ext.pygments":"ready","skins.vector.search.codex.styles":"ready","skins.vector.styles":"ready","skins.vector.icons":"ready","ext.wikimediamessages.styles":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.uls.interlanguage":"ready","ext.collection.bookcreator.styles":"ready"};RLPAGEMODULES=["ext.pygments.view","site","mediawiki.page.ready","skins.vector.js","ext.centralNotice.geoIP","ext.centralNotice.startUp","ext.gadget.refToolbar","ext.gadget.Numeral_converter","ext.gadget.AdvancedSiteNotices","ext.gadget.SocialMedia","ext.gadget.ExternalSearch","ext.gadget.switcher","ext.urlShortener.toolbar","ext.centralauth.centralautologin","mmv.bootstrap","ext.popups","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","ext.shortUrl","ext.echo.centralauth","ext.eventLogging","ext.wikimediaEvents","ext.navigationTiming","ext.uls.interface","ext.cx.eventlogging.campaigns","ext.checkUser.clientHints","ext.collection.bookcreator"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.impl(function(){return["user.options@12s5i",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
}];});});</script>
<link rel="stylesheet" href="/w/load.php?lang=mai&amp;modules=ext.collection.bookcreator.styles%7Cext.pygments%7Cext.uls.interlanguage%7Cext.visualEditor.desktopArticleTarget.noscript%7Cext.wikimediamessages.styles%7Cmediawiki.action.styles%7Cskins.vector.icons%2Cstyles%7Cskins.vector.search.codex.styles&amp;only=styles&amp;skin=vector-2022">
<script async="" src="/w/load.php?lang=mai&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector-2022"></script>
<meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="/w/load.php?lang=mai&amp;modules=site.styles&amp;only=styles&amp;skin=vector-2022">
<meta name="generator" content="MediaWiki 1.44.0-wmf.21">
<meta name="referrer" content="origin">
<meta name="referrer" content="origin-when-cross-origin">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=1120">
<meta property="og:title" content="प्रयोगकर्ता:Jim Carter/vector.js - विकिपिडिया">
<meta property="og:type" content="website">
<link rel="preconnect" href="//upload.wikimedia.org">
<link rel="alternate" media="only screen and (max-width: 640px)" href="//mai.m.wikipedia.org/wiki/%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter/vector.js">
<link rel="apple-touch-icon" href="/static/apple-touch/wikipedia.png">
<link rel="icon" href="/static/favicon/wikipedia.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/w/rest.php/v1/search" title="विकिपिडिया (mai)">
<link rel="EditURI" type="application/rsd+xml" href="//mai.wikipedia.org/w/api.php?action=rsd">
<link rel="canonical" href="https://mai.wikipedia.org/wiki/%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter/vector.js">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.mai">
<link rel="alternate" type="application/atom+xml" title="विकिपिडिया अणु सूचक" href="/w/index.php?title=%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:RecentChanges&amp;feed=atom">
<link rel="dns-prefetch" href="//meta.wikimedia.org" />
<link rel="dns-prefetch" href="auth.wikimedia.org">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-2 ns-subject page-प्रयोगकर्ता_Jim_Carter_vector_js rootpage-प्रयोगकर्ता_Jim_Carter skin-vector-2022 action-view"><a class="mw-jump-link" href="#bodyContent">सामग्री पर जाएँ</a>
<div class="vector-header-container">
	<header class="vector-header mw-header">
		<div class="vector-header-start">
			<nav class="vector-main-menu-landmark" aria-label="साइट">
				
<div id="vector-main-menu-dropdown" class="vector-dropdown vector-main-menu-dropdown vector-button-flush-left vector-button-flush-right"  title="मुख्य मेन्यू" >
	<input type="checkbox" id="vector-main-menu-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-main-menu-dropdown" class="vector-dropdown-checkbox "  aria-label="मुख्य मेन्यू"  >
	<label id="vector-main-menu-dropdown-label" for="vector-main-menu-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-menu mw-ui-icon-wikimedia-menu"></span>

<span class="vector-dropdown-label-text">मुख्य मेन्यू</span>
	</label>
	<div class="vector-dropdown-content">


				<div id="vector-main-menu-unpinned-container" class="vector-unpinned-container">
		
<div id="vector-main-menu" class="vector-main-menu vector-pinnable-element">
	<div
	class="vector-pinnable-header vector-main-menu-pinnable-header vector-pinnable-header-unpinned"
	data-feature-name="main-menu-pinned"
	data-pinnable-element-id="vector-main-menu"
	data-pinned-container-id="vector-main-menu-pinned-container"
	data-unpinned-container-id="vector-main-menu-unpinned-container"
>
	<div class="vector-pinnable-header-label">मुख्य मेन्यू</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-main-menu.pin">साइडबार पर जाएँ</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-main-menu.unpin">छुपाएँ</button>
</div>

	
<div id="p-navigation" class="vector-menu mw-portlet mw-portlet-navigation"  >
	<div class="vector-menu-heading">
		सञ्चार
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-mainpage" class="mw-list-item"><a href="/wiki/%E0%A4%B8%E0%A4%AE%E0%A5%8D%E0%A4%AE%E0%A5%81%E0%A4%96_%E0%A4%AA%E0%A4%A8%E0%A5%8D%E0%A4%A8%E0%A4%BE" title="मुख्य पृष्ठ देखी [z]" accesskey="z"><span>सम्मुख पन्ना</span></a></li><li id="n-portal" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%95%E0%A4%BF%E0%A4%AA%E0%A4%BF%E0%A4%A1%E0%A4%BF%E0%A4%AF%E0%A4%BE:%E0%A4%B8%E0%A4%AE%E0%A5%82%E0%A4%B9_%E0%A4%95%E0%A5%8B%E0%A4%A3" title="परियोजनाक विषयमे, अहाँ की कए सकैत छी, वस्तु प्राप्ति स्थल"><span>सामाजिक कोण</span></a></li><li id="n-currentevents" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%95%E0%A4%BF%E0%A4%AA%E0%A4%BF%E0%A4%A1%E0%A4%BF%E0%A4%AF%E0%A4%BE:%E0%A4%86%E0%A4%87-%E0%A4%95%E0%A4%BE%E0%A4%B2%E0%A5%8D%E0%A4%B9%E0%A4%BF%E0%A4%95_%E0%A4%98%E0%A4%9F%E0%A4%A8%E0%A4%BE%E0%A4%B8%E0%A4%AD" title="लगक घटनाक विषयमे आधार सूचना प्राप्त करी।"><span>आइ-काल्हिक घटनासभ</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:RecentChanges" title="विकिमे लगक परिवर्तनक सूची [r]" accesskey="r"><span>लगक परिवर्तनसभ</span></a></li><li id="n-randompage" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:Random" title="कोनो अनिर्धारित पन्ना लोड करी [x]" accesskey="x"><span>अव्यवस्थित पृष्ठ</span></a></li><li id="n-help" class="mw-list-item"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="पता लगवैवाला स्थान"><span>मदति</span></a></li><li id="n-specialpages" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7_%E0%A4%AA%E0%A5%83%E0%A4%B7%E0%A5%8D%E0%A4%A0"><span>विशेष पन्नासभ</span></a></li>
		</ul>
		
	</div>
</div>

	
	
<div id="p-सहायता" class="vector-menu mw-portlet mw-portlet-सहायता"  >
	<div class="vector-menu-heading">
		सहायता
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-चबुतरा" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%95%E0%A4%BF%E0%A4%AA%E0%A4%BF%E0%A4%A1%E0%A4%BF%E0%A4%AF%E0%A4%BE:%E0%A4%9A%E0%A4%AC%E0%A5%81%E0%A4%A4%E0%A4%B0%E0%A4%BE"><span>चबुतरा</span></a></li><li id="n-नव-पृष्ठ-कोना-आरम्भ-करी?" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%95%E0%A4%BF%E0%A4%AA%E0%A4%BF%E0%A4%A1%E0%A4%BF%E0%A4%AF%E0%A4%BE:%E0%A4%A8%E0%A4%B5_%E0%A4%AA%E0%A5%83%E0%A4%B7%E0%A5%8D%E0%A4%A0_%E0%A4%95%E0%A5%8B%E0%A4%A8%E0%A4%BE_%E0%A4%86%E0%A4%B0%E0%A4%AE%E0%A5%8D%E0%A4%AD_%E0%A4%95%E0%A4%B0%E0%A5%80%3F"><span>नव पृष्ठ कोना आरम्भ करी?</span></a></li><li id="n-विशेषाधिकार-निवेदन" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%95%E0%A4%BF%E0%A4%AA%E0%A4%BF%E0%A4%A1%E0%A4%BF%E0%A4%AF%E0%A4%BE:%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7%E0%A4%BE%E0%A4%A7%E0%A4%BF%E0%A4%95%E0%A4%BE%E0%A4%B0_%E0%A4%A8%E0%A4%BF%E0%A4%B5%E0%A5%87%E0%A4%A6%E0%A4%A8"><span>विशेषाधिकार निवेदन</span></a></li><li id="n-प्रबन्धक-सूचनापट्ट" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%95%E0%A4%BF%E0%A4%AA%E0%A4%BF%E0%A4%A1%E0%A4%BF%E0%A4%AF%E0%A4%BE:%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AC%E0%A4%A8%E0%A5%8D%E0%A4%A7%E0%A4%95_%E0%A4%B8%E0%A5%82%E0%A4%9A%E0%A4%A8%E0%A4%BE%E0%A4%AA%E0%A4%9F%E0%A5%8D%E0%A4%9F"><span>प्रबन्धक सूचनापट्ट</span></a></li><li id="n-अभ्यास-पन्ना" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%95%E0%A4%BF%E0%A4%AA%E0%A4%BF%E0%A4%A1%E0%A4%BF%E0%A4%AF%E0%A4%BE:%E0%A4%85%E0%A4%AD%E0%A5%8D%E0%A4%AF%E0%A4%BE%E0%A4%B8_%E0%A4%AA%E0%A4%A8%E0%A5%8D%E0%A4%A8%E0%A4%BE"><span>अभ्यास पन्ना</span></a></li>
		</ul>
		
	</div>
</div>

</div>

				</div>

	</div>
</div>

		</nav>
			
<a href="/wiki/%E0%A4%B8%E0%A4%AE%E0%A5%8D%E0%A4%AE%E0%A5%81%E0%A4%96_%E0%A4%AA%E0%A4%A8%E0%A5%8D%E0%A4%A8%E0%A4%BE" class="mw-logo">
	<img class="mw-logo-icon" src="/static/images/icons/wikipedia.png" alt="" aria-hidden="true" height="50" width="50">
	<span class="mw-logo-container skin-invert">
		<img class="mw-logo-wordmark" alt="विकिपिडिया" src="/static/images/mobile/copyright/wikipedia-wordmark-mai.svg" style="width: 7.5em; height: 1.75em;">
		<img class="mw-logo-tagline" alt="" src="/static/images/mobile/copyright/wikipedia-tagline-mai.svg" width="120" height="18" style="width: 7.5em; height: 1.125em;">
	</span>
</a>

		</div>
		<div class="vector-header-end">
			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-collapses vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%96%E0%A5%8B%E0%A4%9C" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only search-toggle" title="विकिपिडियामे ताकी [f]" accesskey="f"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>ताकी</span>
	</a>
	<div class="vector-typeahead-search-container">
		<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail cdx-typeahead-search--auto-expand-width">
			<form action="/w/index.php" id="searchform" class="cdx-search-input cdx-search-input--has-end-button">
				<div id="simpleSearch" class="cdx-search-input__input-wrapper"  data-search-loc="header-moved">
					<div class="cdx-text-input cdx-text-input--has-start-icon">
						<input
							class="cdx-text-input__input"
							 type="search" name="search" placeholder="विकिपिडियामे खोजी" aria-label="विकिपिडियामे खोजी" autocapitalize="sentences" title="विकिपिडियामे ताकी [f]" accesskey="f" id="searchInput"
							>
						<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
					</div>
					<input type="hidden" name="title" value="विशेष:खोज">
				</div>
				<button class="cdx-button cdx-search-input__end-button">ताकी</button>
			</form>
		</div>
	</div>
</div>

			<nav class="vector-user-links vector-user-links-wide" aria-label="व्यक्तिगत उपकरणसभ">
	<div class="vector-user-links-main">
	
<div id="p-vector-user-menu-preferences" class="vector-menu mw-portlet emptyPortlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	
<div id="p-vector-user-menu-userpage" class="vector-menu mw-portlet emptyPortlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	<nav class="vector-appearance-landmark" aria-label="दिखावट">
		
<div id="vector-appearance-dropdown" class="vector-dropdown "  title="पृष्ठ के फ़ॉन्ट का आकार, चौड़ाई और रंग बदलें" >
	<input type="checkbox" id="vector-appearance-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-appearance-dropdown" class="vector-dropdown-checkbox "  aria-label="दिखावट"  >
	<label id="vector-appearance-dropdown-label" for="vector-appearance-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-appearance mw-ui-icon-wikimedia-appearance"></span>

<span class="vector-dropdown-label-text">दिखावट</span>
	</label>
	<div class="vector-dropdown-content">


			<div id="vector-appearance-unpinned-container" class="vector-unpinned-container">
				
			</div>
		
	</div>
</div>

	</nav>
	
<div id="p-vector-user-menu-notifications" class="vector-menu mw-portlet emptyPortlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	
<div id="p-vector-user-menu-overflow" class="vector-menu mw-portlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			<li id="pt-sitesupport-2" class="user-links-collapsible-item mw-list-item user-links-collapsible-item"><a data-mw="interface" href="https://donate.wikimedia.org/?wmf_source=donate&amp;wmf_medium=sidebar&amp;wmf_campaign=mai.wikipedia.org&amp;uselang=mai" class=""><span>दान</span></a>
</li>
<li id="pt-createaccount-2" class="user-links-collapsible-item mw-list-item user-links-collapsible-item"><a data-mw="interface" href="/w/index.php?title=%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%96%E0%A4%BE%E0%A4%A4%E0%A4%BE_%E0%A4%AC%E0%A4%A8%E0%A4%BE%E0%A4%8F%E0%A4%81&amp;returnto=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE%3AJim+Carter%2Fvector.js" title="अहाँक खाता खोलक लेल प्रोत्साहित कएल जाएत अछि; मुदा ई अनिवार्य नै अछि" class=""><span>खाता खोलल जाए</span></a>
</li>
<li id="pt-login-2" class="user-links-collapsible-item mw-list-item user-links-collapsible-item"><a data-mw="interface" href="/w/index.php?title=%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%B2%E0%A5%89%E0%A4%97%E0%A4%BF%E0%A4%A8&amp;returnto=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE%3AJim+Carter%2Fvector.js" title="अहाँक खाता खोलक लेल प्रोत्साहित कएल जाएत अछि; मुदा ई अनिवार्य नै अछि [o]" accesskey="o" class=""><span>सम्प्रवेश</span></a>
</li>

			
		</ul>
		
	</div>
</div>

	</div>
	
<div id="vector-user-links-dropdown" class="vector-dropdown vector-user-menu vector-button-flush-right vector-user-menu-logged-out"  title="अन्य विकल्प" >
	<input type="checkbox" id="vector-user-links-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-user-links-dropdown" class="vector-dropdown-checkbox "  aria-label="व्यक्तिगत उपकरणसभ"  >
	<label id="vector-user-links-dropdown-label" for="vector-user-links-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-ellipsis mw-ui-icon-wikimedia-ellipsis"></span>

<span class="vector-dropdown-label-text">व्यक्तिगत उपकरणसभ</span>
	</label>
	<div class="vector-dropdown-content">


		
<div id="p-personal" class="vector-menu mw-portlet mw-portlet-personal user-links-collapsible-item"  title="User menu" >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="pt-sitesupport" class="user-links-collapsible-item mw-list-item"><a href="https://donate.wikimedia.org/?wmf_source=donate&amp;wmf_medium=sidebar&amp;wmf_campaign=mai.wikipedia.org&amp;uselang=mai"><span>दान</span></a></li><li id="pt-createaccount" class="user-links-collapsible-item mw-list-item"><a href="/w/index.php?title=%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%96%E0%A4%BE%E0%A4%A4%E0%A4%BE_%E0%A4%AC%E0%A4%A8%E0%A4%BE%E0%A4%8F%E0%A4%81&amp;returnto=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE%3AJim+Carter%2Fvector.js" title="अहाँक खाता खोलक लेल प्रोत्साहित कएल जाएत अछि; मुदा ई अनिवार्य नै अछि"><span class="vector-icon mw-ui-icon-userAdd mw-ui-icon-wikimedia-userAdd"></span> <span>खाता खोलल जाए</span></a></li><li id="pt-login" class="user-links-collapsible-item mw-list-item"><a href="/w/index.php?title=%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%B2%E0%A5%89%E0%A4%97%E0%A4%BF%E0%A4%A8&amp;returnto=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE%3AJim+Carter%2Fvector.js" title="अहाँक खाता खोलक लेल प्रोत्साहित कएल जाएत अछि; मुदा ई अनिवार्य नै अछि [o]" accesskey="o"><span class="vector-icon mw-ui-icon-logIn mw-ui-icon-wikimedia-logIn"></span> <span>सम्प्रवेश</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-user-menu-anon-editor" class="vector-menu mw-portlet mw-portlet-user-menu-anon-editor"  >
	<div class="vector-menu-heading">
		लॉग-आउट किए गए संपादकों के लिए पृष्ठ <a href="/wiki/%E0%A4%AE%E0%A4%A6%E0%A5%8D%E0%A4%A6%E0%A4%A4:%E0%A4%AA%E0%A4%B0%E0%A4%BF%E0%A4%9A%E0%A4%AF" aria-label="संपादन के बारे में अधिक जानें"><span>अधिक जानें</span></a>
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="pt-anoncontribs" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%AE%E0%A5%87%E0%A4%B0%E0%A5%87_%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%A6%E0%A4%BE%E0%A4%A8" title="ई आइपी पता सँ सम्पादनक सूची [y]" accesskey="y"><span>योगदानसभ</span></a></li><li id="pt-anontalk" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%AE%E0%A5%87%E0%A4%B0%E0%A5%80_%E0%A4%B5%E0%A4%BE%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE" title="ऐ अनिकेतसँ भेल सम्पादनक वार्ता [n]" accesskey="n"><span>वार्ता</span></a></li>
		</ul>
		
	</div>
</div>

	
	</div>
</div>

</nav>

		</div>
	</header>
</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-sitenotice-container">
			<div id="siteNotice"><!-- CentralNotice --><div class="collection-creatorbox">
	<img src="/w/extensions/Collection/images/Open_book.png" alt="" width="80" height="45" class="collection-creatorbox-book">
	<div class="collection-creatorbox-row">
		<div>
			<a rel="nofollow" title="किताब निर्माण हेतु सहायता देखाबी" href="/wiki/%E0%A4%AE%E0%A4%A6%E0%A5%8D%E0%A4%A6%E0%A4%A4:%E0%A4%95%E0%A4%BF%E0%A4%A4%E0%A4%BE%E0%A4%AC%E0%A4%B8%E0%A4%AD">
				<img src="/w/extensions/Collection/images/silk-help.png" alt="" width="16" height="16">&#160;सहायता
			</a>
		</div>
		<span class="collection-creatorbox-title">किताब निर्माता</span> (
		<a rel="nofollow" title="किताब निर्माता कऽ उपयोग बन्द करी" href="/w/index.php?title=%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%AA%E0%A5%81%E0%A4%B8%E0%A5%8D%E0%A4%A4%E0%A4%95&amp;bookcmd=stop_book_creator&amp;referer=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE%3AJim+Carter%2Fvector.js">असमर्थ</a>
		) 
	</div>
	<div id="coll-book_creator_box" class="collection-creatorbox-row">
		<a href="/w/index.php?title=%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%AA%E0%A5%81%E0%A4%B8%E0%A5%8D%E0%A4%A4%E0%A4%95&amp;bookcmd=add_article&amp;arttitle=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE%3AJim+Carter%2Fvector.js&amp;oldid=0" title="वर्तमान विकी पृष्ठकें अपन पुस्तकमे जोड़ी" id="coll-add_article" rel="nofollow" onclick="collectionCall(&#039;addarticle&#039;, mw.config.get(&#039;wgNamespaceNumber&#039;), mw.config.get(&#039;wgTitle&#039;), 0); return false;"><img src="/w/extensions/Collection/images/silk-add.png" alt="" width="16" height="16">&#160;ई पृष्ठकें अपन पुस्तकमे जोड़ी</a><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%AA%E0%A5%81%E0%A4%B8%E0%A5%8D%E0%A4%A4%E0%A4%95" class="collection-creatorbox-iconlink" title="अहाँक पुस्तकके सम्पादित/डाउनलोड/अर्डर करैक लेल क्लिक करी" rel="nofollow"><img src="/w/extensions/Collection/images/silk-book_open.png" alt="" width="16" height="16">&#160;किताब देखाबी (० पन्ना)</a><a href="/w/index.php?title=%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%AA%E0%A5%81%E0%A4%B8%E0%A5%8D%E0%A4%A4%E0%A4%95&amp;bookcmd=suggest" class="collection-creatorbox-iconlink" title="अहाँक पुस्तकक पृष्ठसभक अनुसार सुझाव देखाबी" rel="nofollow"><img src="/w/extensions/Collection/images/silk-wand.png" alt="" width="16" height="16" style="vertical-align: text-bottom">&#160;पृष्ठ सुझाव देखाबी</a>
	</div>
</div>
</div>
		</div>
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		<div id="mw-navigation">
			<nav id="mw-panel" class="vector-main-menu-landmark" aria-label="साइट">
				<div id="vector-main-menu-pinned-container" class="vector-pinned-container">
				
				</div>
		</nav>
		</div>
	</div>
</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body">
				<header class="mw-body-header vector-page-titlebar">
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-namespace">प्रयोगकर्ता</span><span class="mw-page-title-separator">:</span><span class="mw-page-title-main">Jim Carter/vector.js</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang"  >
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="यह लेख सिर्फ इसी भाषा में उपलब्ध है। इस लेख को दूसरी भाषाओं में अनुवादित करें।"   >
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-0" aria-hidden="true"  ><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">भाषाएँ जोड़ें</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				
			</ul>
			<div class="after-portlet after-portlet-lang"><span class="uls-after-portlet-link"></span></div>
		</div>

	</div>
</div>
</header>
				<div class="vector-page-toolbar">
					<div class="vector-page-toolbar-container">
						<div id="left-navigation">
							<nav aria-label="नामस्थान समूहसभ">
								
<div id="p-associated-pages" class="vector-menu vector-menu-tabs mw-portlet mw-portlet-associated-pages"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-nstab-user" class="selected vector-tab-noicon mw-list-item"><a href="/wiki/%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter/vector.js" title="प्रयोक्ता पन्ना देखी [c]" accesskey="c"><span>प्रयोक्ता पृष्ठ</span></a></li><li id="ca-talk" class="new vector-tab-noicon mw-list-item"><a href="/w/index.php?title=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE_%E0%A4%B5%E0%A4%BE%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter/vector.js&amp;action=edit&amp;redlink=1" rel="discussion" class="new" title="विषयसूचीक पन्नाक सम्बन्धमे वार्तालाप (पृष्ठ उपलब्ध नै अछि) [t]" accesskey="t"><span>वार्तालाप</span></a></li>
		</ul>
		
	</div>
</div>

								
<div id="vector-variants-dropdown" class="vector-dropdown emptyPortlet"  >
	<input type="checkbox" id="vector-variants-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-variants-dropdown" class="vector-dropdown-checkbox " aria-label="भाषा का प्रकार बदलें"   >
	<label id="vector-variants-dropdown-label" for="vector-variants-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet" aria-hidden="true"  ><span class="vector-dropdown-label-text">English</span>
	</label>
	<div class="vector-dropdown-content">


					
<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

				
	</div>
</div>

							</nav>
						</div>
						<div id="right-navigation" class="vector-collapsible">
							<nav aria-label="दर्शाव">
								
<div id="p-views" class="vector-menu vector-menu-tabs mw-portlet mw-portlet-views"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-view" class="selected vector-tab-noicon mw-list-item"><a href="/wiki/%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter/vector.js"><span>पढी</span></a></li><li id="ca-viewsource" class="vector-tab-noicon mw-list-item"><a href="/w/index.php?title=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter/vector.js&amp;action=edit" title="ई पन्ना संरक्षित अछि ।&#10;अहाँ एकर स्रोत देख सकै छी । [e]" accesskey="e"><span>स्रोत देखें</span></a></li><li id="ca-history" class="vector-tab-noicon mw-list-item"><a href="/w/index.php?title=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter/vector.js&amp;action=history" title="ई पृष्ठक पुरान अवतरण [h]" accesskey="h"><span>इतिहास देखी</span></a></li>
		</ul>
		
	</div>
</div>

							</nav>
				
							<nav class="vector-page-tools-landmark" aria-label="पृष्ठ उपकरण">
								
<div id="vector-page-tools-dropdown" class="vector-dropdown vector-page-tools-dropdown"  >
	<input type="checkbox" id="vector-page-tools-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-tools-dropdown" class="vector-dropdown-checkbox "  aria-label="उपकरण"  >
	<label id="vector-page-tools-dropdown-label" for="vector-page-tools-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet" aria-hidden="true"  ><span class="vector-dropdown-label-text">उपकरण</span>
	</label>
	<div class="vector-dropdown-content">


									<div id="vector-page-tools-unpinned-container" class="vector-unpinned-container">
						
<div id="vector-page-tools" class="vector-page-tools vector-pinnable-element">
	<div
	class="vector-pinnable-header vector-page-tools-pinnable-header vector-pinnable-header-unpinned"
	data-feature-name="page-tools-pinned"
	data-pinnable-element-id="vector-page-tools"
	data-pinned-container-id="vector-page-tools-pinned-container"
	data-unpinned-container-id="vector-page-tools-unpinned-container"
>
	<div class="vector-pinnable-header-label">उपकरण</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-page-tools.pin">साइडबार पर जाएँ</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-page-tools.unpin">छुपाएँ</button>
</div>

	
<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-has-collapsible-items"  title="More options" >
	<div class="vector-menu-heading">
		क्रियाएँ
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="/wiki/%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter/vector.js"><span>पढी</span></a></li><li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/w/index.php?title=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter/vector.js&amp;action=edit"><span>स्रोत देखें</span></a></li><li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/w/index.php?title=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter/vector.js&amp;action=history"><span>इतिहास देखी</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-tb" class="vector-menu mw-portlet mw-portlet-tb"  >
	<div class="vector-menu-heading">
		सामान्य
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="t-whatlinkshere" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%95%E0%A4%A1%E0%A4%BC%E0%A4%BF%E0%A4%AF%E0%A4%BE%E0%A4%81/%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter/vector.js" title="सभ विकी-पन्नाक सूची जकर एतय लिङ्क अछि [j]" accesskey="j"><span>एतय कोन लिङ्क अछि</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:RecentChangesLinked/%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter/vector.js" rel="nofollow" title="ई पृष्ठक लगक पन्नामे भेल नव परिवर्तनसभ [k]" accesskey="k"><span>सम्बन्धित परिवर्तन</span></a></li><li id="t-contributions" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%A6%E0%A4%BE%E0%A4%A8/Jim_Carter" title="ई प्रयोक्ताक योगदानक सूची देखी"><span>प्रयोगकर्ता योगदान</span></a></li><li id="t-log" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%B2%E0%A5%89%E0%A4%97/Jim_Carter"><span>लौग</span></a></li><li id="t-userrights" class="mw-list-item"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%B8%E0%A4%A6%E0%A4%B8%E0%A5%8D%E0%A4%AF_%E0%A4%85%E0%A4%A7%E0%A4%BF%E0%A4%95%E0%A4%BE%E0%A4%B0/Jim_Carter"><span>प्रयोक्ता समूह देखी</span></a></li><li id="t-upload" class="mw-list-item"><a href="//commons.wikimedia.org/wiki/Special:UploadWizard?uselang=mai" title="चित्र आकि मिडिया फाइल अपलोड करी [u]" accesskey="u"><span>फाइल अपलोड करी</span></a></li><li id="t-permalink" class="mw-list-item"><a href="/w/index.php?title=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter/vector.js&amp;oldid=137754" title="पृष्ठक ई संस्करणक स्थायी लिङ्क"><span>स्थायी लिङ्क</span></a></li><li id="t-info" class="mw-list-item"><a href="/w/index.php?title=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter/vector.js&amp;action=info" title="ई पृष्ठ के सम्बन्धमें आर बैंसी जानकारी"><span>ई पृष्ठ पर जानकारी</span></a></li><li id="t-urlshortener" class="mw-list-item"><a href="/w/index.php?title=%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:UrlShortener&amp;url=https%3A%2F%2Fmai.wikipedia.org%2Fwiki%2F%25E0%25A4%25AA%25E0%25A5%258D%25E0%25A4%25B0%25E0%25A4%25AF%25E0%25A5%258B%25E0%25A4%2597%25E0%25A4%2595%25E0%25A4%25B0%25E0%25A5%258D%25E0%25A4%25A4%25E0%25A4%25BE%3AJim_Carter%2Fvector.js"><span>संक्षिप्त URL प्राप्त करें</span></a></li><li id="t-urlshortener-qrcode" class="mw-list-item"><a href="/w/index.php?title=%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:QrCode&amp;url=https%3A%2F%2Fmai.wikipedia.org%2Fwiki%2F%25E0%25A4%25AA%25E0%25A5%258D%25E0%25A4%25B0%25E0%25A4%25AF%25E0%25A5%258B%25E0%25A4%2597%25E0%25A4%2595%25E0%25A4%25B0%25E0%25A5%258D%25E0%25A4%25A4%25E0%25A4%25BE%3AJim_Carter%2Fvector.js"><span>QR कोड डाउनलोड करें</span></a></li><li id="t-shorturl" class="mw-list-item"><a href="//mai.wikipedia.org/s/ib0" title="सेयर करैक लेल ई छोट युआरयल कपी करी"><span>छोट युआरयल</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-coll-print_export" class="vector-menu mw-portlet mw-portlet-coll-print_export"  >
	<div class="vector-menu-heading">
		प्रिन्ट/निर्यात
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="coll-book_creator_disable" class="mw-list-item"><a href="/w/index.php?title=%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:%E0%A4%AA%E0%A5%81%E0%A4%B8%E0%A5%8D%E0%A4%A4%E0%A4%95&amp;bookcmd=stop_book_creator&amp;referer=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE%3AJim+Carter%2Fvector.js"><span>पुस्तक निर्माताके अक्षम करी</span></a></li><li id="coll-download-as-rl" class="mw-list-item"><a href="/w/index.php?title=%E0%A4%B5%E0%A4%BF%E0%A4%B6%E0%A5%87%E0%A4%B7:DownloadAsPdf&amp;page=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE%3AJim_Carter%2Fvector.js&amp;action=show-download-screen"><span>PDF कऽ रूपमे डाउनलोड करी</span></a></li><li id="t-print" class="mw-list-item"><a href="/w/index.php?title=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter/vector.js&amp;printable=yes" title="ई पृष्ठक छपैबला रूप [p]" accesskey="p"><span>प्रिन्ट करबा योग्य</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-wikibase-otherprojects" class="vector-menu mw-portlet mw-portlet-wikibase-otherprojects emptyPortlet"  >
	<div class="vector-menu-heading">
		अन्य परियोजनासभ
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

</div>

									</div>
				
	</div>
</div>

							</nav>
						</div>
					</div>
				</div>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="पृष्ठ उपकरण">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="दिखावट">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div
	class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned"
	data-feature-name="appearance-pinned"
	data-pinnable-element-id="vector-appearance"
	data-pinned-container-id="vector-appearance-pinned-container"
	data-unpinned-container-id="vector-appearance-unpinned-container"
>
	<div class="vector-pinnable-header-label">दिखावट</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">साइडबार पर जाएँ</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">छुपाएँ</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">मैथिली विकिपिडियासँ, एक मुक्त विश्वकोश</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"><div class="subpages">&lt; <bdi dir="ltr"><a href="/wiki/%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter" title="प्रयोगकर्ता:Jim Carter">प्रयोगकर्ता:Jim Carter</a></bdi></div></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content"><div id="mw-clearyourcache" lang="mai" dir="ltr" class="mw-content-ltr">
<p><strong>टिप्पणी:</strong> संरक्षणक बाद, अहाँक परिवर्तन देखबा लेल अपन ब्राउजरक उपस्मृतिक हटबए पडत।
<strong>फायरफक्स/ सफारी:<strong> <em>सिफ्ट</em>के दाबि <em>रिलोड</em>, वा <em>Ctrl-F5</em> वा <em>Ctrl-R</em> (म्याकपर <em>⌘-R</em>)
<strong>गुगल क्रोम:</strong> <em>Ctrl-Shift-R</em> दाबी(म्याकपर <em>⌘-Shift-R</em>)
<strong>इन्टरनेट एक्सप्लोरर:</strong> <em>Refresh</em> क्लिक करि <em>Ctrl</em> दाबि, वा <em>Ctrl-F5</em> दाबी
<strong>ओपेरा:</strong> <em>Menu → Settings</em> पर जाए (म्याकपर <em>Opera → Preferences</em>) आ ओकर बाद <em>Privacy &amp; security → Clear browsing data → Cached images and files</em>
</strong></strong></p><strong><strong>
<pre>।
</pre>
</strong></strong></div><div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr"><div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr mw-highlight-lines" dir="ltr"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos" data-line="1"></span></a><span class="w">	</span><span class="c1">// ***************************************************************** //</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos" data-line="2"></span></a><span class="w">	</span><span class="c1">//                          DYKcheck tool                            //</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos" data-line="3"></span></a><span class="w">	</span><span class="c1">//                           Version 1.1                             //</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos" data-line="4"></span></a><span class="w">	</span><span class="c1">// For quick installation, add                                       //</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos" data-line="5"></span></a><span class="w">	</span><span class="c1">// importScript(&#39;User:Shubinator/DYKcheck.js&#39;);                      //</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos" data-line="6"></span></a><span class="w">	</span><span class="c1">// to your vector.js                                                 //</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos" data-line="7"></span></a><span class="w">	</span><span class="c1">// See [[User:Shubinator/DYKcheck]] for more info, including         //</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos" data-line="8"></span></a><span class="w">	</span><span class="c1">// configurable options and how to use the tool without installation //</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos" data-line="9"></span></a><span class="w">	</span><span class="c1">// or logging in.                                                    //</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos" data-line="10"></span></a><span class="w">	</span><span class="c1">// First version written by Shubinator in February 2009              //</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos" data-line="11"></span></a><span class="w">	</span><span class="c1">// ***************************************************************** //</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos" data-line="12"></span></a>
</span><span id="L-13"><a href="#L-13"><span class="linenos" data-line="13"></span></a><span class="nx">mw</span><span class="p">.</span><span class="nx">loader</span><span class="p">.</span><span class="nx">using</span><span class="p">([</span><span class="s1">&#39;mediawiki.api&#39;</span><span class="p">],</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos" data-line="14"></span></a><span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos" data-line="15"></span></a>
</span><span id="L-16"><a href="#L-16"><span class="linenos" data-line="16"></span></a><span class="kd">var</span><span class="w"> </span><span class="nx">onTTDYK</span><span class="p">,</span><span class="w"> </span><span class="nx">nextSection</span><span class="p">,</span><span class="w"> </span><span class="nx">urlJump</span><span class="p">,</span><span class="w"> </span><span class="nx">sections</span><span class="p">,</span><span class="w"> </span><span class="nx">currentTitle</span><span class="p">,</span><span class="w"> </span><span class="nx">partsProcessing</span><span class="p">,</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos" data-line="17"></span></a><span class="w">	</span><span class="nx">articleTitles</span><span class="p">,</span><span class="w"> </span><span class="nx">dates</span><span class="p">,</span><span class="w"> </span><span class="nx">nom5x</span><span class="p">;</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos" data-line="18"></span></a>
</span><span id="L-19"><a href="#L-19"><span class="linenos" data-line="19"></span></a><span class="c1">// Configurable options</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos" data-line="20"></span></a><span class="kd">var</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos" data-line="21"></span></a><span class="w">	</span><span class="nx">dateFormat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">dateFormat</span><span class="p">,</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos" data-line="22"></span></a><span class="w">	</span><span class="nx">unlock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">unlock</span><span class="p">,</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos" data-line="23"></span></a><span class="w">	</span><span class="nx">hookLengthYellow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">hookLengthYellow</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">200</span><span class="p">,</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos" data-line="24"></span></a><span class="w">	</span><span class="nx">hookLengthRed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">hookLengthRed</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">220</span><span class="p">,</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos" data-line="25"></span></a><span class="w">	</span><span class="nx">check5xNoms</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">check5xNoms</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">&quot;ifnom5x&quot;</span><span class="p">,</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos" data-line="26"></span></a><span class="w">	</span><span class="nx">fixedSidebar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">fixedSidebar</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">&quot;onttydk&quot;</span><span class="p">;</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos" data-line="27"></span></a>
</span><span id="L-28"><a href="#L-28"><span class="linenos" data-line="28"></span></a><span class="kd">var</span><span class="w"> </span><span class="nx">mwConfig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mw</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">get</span><span class="p">([</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos" data-line="29"></span></a><span class="w">	</span><span class="s2">&quot;wgAction&quot;</span><span class="p">,</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos" data-line="30"></span></a><span class="w">	</span><span class="s2">&quot;wgTitle&quot;</span><span class="p">,</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos" data-line="31"></span></a><span class="w">	</span><span class="s2">&quot;wgPageName&quot;</span><span class="p">,</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos" data-line="32"></span></a><span class="w">	</span><span class="s2">&quot;wgUserName&quot;</span><span class="p">,</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos" data-line="33"></span></a><span class="w">	</span><span class="s2">&quot;wgNamespaceNumber&quot;</span><span class="p">,</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos" data-line="34"></span></a><span class="w">	</span><span class="s2">&quot;skin&quot;</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos" data-line="35"></span></a><span class="p">]);</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos" data-line="36"></span></a>
</span><span id="L-37"><a href="#L-37"><span class="linenos" data-line="37"></span></a><span class="kd">var</span><span class="w"> </span><span class="nx">api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">mw</span><span class="p">.</span><span class="nx">Api</span><span class="p">();</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos" data-line="38"></span></a>
</span><span id="L-39"><a href="#L-39"><span class="linenos" data-line="39"></span></a><span class="c1">// Polyfill String.prototype.includes so that we don&#39;t have to write &quot;!== -1&quot; all over</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos" data-line="40"></span></a><span class="c1">// the codebase.</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos" data-line="41"></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">includes</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos" data-line="42"></span></a><span class="w">  </span><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">includes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos" data-line="43"></span></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="nx">arguments</span><span class="p">)</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">;</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos" data-line="44"></span></a><span class="w">  </span><span class="p">};</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos" data-line="45"></span></a><span class="p">}</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos" data-line="46"></span></a>
</span><span id="L-47"><a href="#L-47"><span class="linenos" data-line="47"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos" data-line="48"></span></a><span class="w">	</span><span class="c1">// Use the browser&#39;s built-in ability to escape HTML.</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos" data-line="49"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">div</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">);</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos" data-line="50"></span></a><span class="w">	</span><span class="nx">div</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">s</span><span class="p">));</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos" data-line="51"></span></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">;</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos" data-line="52"></span></a><span class="p">}</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos" data-line="53"></span></a>
</span><span id="L-54"><a href="#L-54"><span class="linenos" data-line="54"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">scanArticle</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">,</span><span class="w"> </span><span class="nx">html</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos" data-line="55"></span></a><span class="w">	</span><span class="c1">// the meat of the DYKcheck tool</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos" data-line="56"></span></a><span class="w">	</span><span class="c1">// calculates prose size of the given html</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos" data-line="57"></span></a><span class="w">	</span><span class="c1">// checks for inline citations and stub templates in the given html</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos" data-line="58"></span></a><span class="w">	</span><span class="c1">// passes info to checkTalk(), getFirstRevision(), checkMove(), and checkExpansion()</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos" data-line="59"></span></a><span class="w">	</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos" data-line="60"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">onTTDYK</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="nx">check5xNoms</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;always&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="nx">check5xNoms</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;ifnom5x&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">nom5x</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos" data-line="61"></span></a><span class="w">		</span><span class="nx">partsProcessing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Array</span><span class="p">(</span><span class="mf">4</span><span class="p">);</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos" data-line="62"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos" data-line="63"></span></a><span class="w">		</span><span class="nx">partsProcessing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Array</span><span class="p">(</span><span class="mf">3</span><span class="p">);</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos" data-line="64"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos" data-line="65"></span></a><span class="w">	</span><span class="nx">dates</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Array</span><span class="p">(</span><span class="mf">4</span><span class="p">);</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos" data-line="66"></span></a>
</span><span id="L-67"><a href="#L-67"><span class="linenos" data-line="67"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">proseDisp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">);</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos" data-line="68"></span></a><span class="w">	</span><span class="nx">proseDisp</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;dyk-prose&quot;</span><span class="p">;</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos" data-line="69"></span></a><span class="w">	</span><span class="nx">output</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">proseDisp</span><span class="p">);</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos" data-line="70"></span></a>
</span><span id="L-71"><a href="#L-71"><span class="linenos" data-line="71"></span></a><span class="w">	</span><span class="c1">// calculate prose size</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos" data-line="72"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">prose</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">calculateProse</span><span class="p">(</span><span class="nx">html</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos" data-line="73"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">pList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">html</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">);</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos" data-line="74"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">word_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos" data-line="75"></span></a><span class="w">	</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">iPara</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="nx">iPara</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">pList</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">iPara</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos" data-line="76"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">para</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">pList</span><span class="p">[</span><span class="nx">iPara</span><span class="p">];</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos" data-line="77"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">para</span><span class="p">.</span><span class="nx">parentNode</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">html</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">para</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;bodyContent&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos" data-line="78"></span></a><span class="w">			</span><span class="nx">word_count</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">para</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(&lt;([^&gt;]+)&gt;)/ig</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos" data-line="79"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos" data-line="80"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos" data-line="81"></span></a><span class="w">	</span><span class="nx">proseDisp</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="s1">&#39;&lt;b&gt;Prose size (text only): &lt;/b&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">prose</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;&amp;nbsp;characters (&#39;</span><span class="w"> </span><span class="o">+</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos" data-line="82"></span></a><span class="w">			</span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">word_count</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; words) &quot;readable prose size&quot;&#39;</span><span class="p">;</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos" data-line="83"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">prose</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">1500</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos" data-line="84"></span></a><span class="w">		</span><span class="nx">proseDisp</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;background-color:pink&quot;</span><span class="p">;</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos" data-line="85"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos" data-line="86"></span></a><span class="w">	</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos" data-line="87"></span></a><span class="w">	</span><span class="c1">// check for inline citations</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos" data-line="88"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;id=&quot;cite_ref-&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;id=cite_ref-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos" data-line="89"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">noref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">);</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos" data-line="90"></span></a><span class="w">		</span><span class="nx">noref</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;no-ref&quot;</span><span class="p">;</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos" data-line="91"></span></a><span class="w">		</span><span class="nx">output</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">noref</span><span class="p">);</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos" data-line="92"></span></a><span class="w">		</span><span class="nx">noref</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;No inline citations&#39;</span><span class="p">;</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos" data-line="93"></span></a><span class="w">		</span><span class="nx">noref</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;background-color:pink&quot;</span><span class="p">;</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos" data-line="94"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos" data-line="95"></span></a><span class="w">	</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos" data-line="96"></span></a><span class="w">	</span><span class="c1">// check if article is stub or if it has appeared in DYK or ITN</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos" data-line="97"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;id=&quot;stub&quot;&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;id=stub&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>
</span><span id="L-98"><a href="#L-98"><span class="linenos" data-line="98"></span></a><span class="w">			</span><span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;metadata plainlinks stub&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos" data-line="99"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">stubAlert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">);</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos" data-line="100"></span></a><span class="w">		</span><span class="nx">stubAlert</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;stub-alert&quot;</span><span class="p">;</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos" data-line="101"></span></a><span class="w">		</span><span class="nx">output</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">stubAlert</span><span class="p">);</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos" data-line="102"></span></a><span class="w">		</span><span class="nx">stubAlert</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Article is classified as a stub&#39;</span><span class="p">;</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos" data-line="103"></span></a><span class="w">		</span><span class="nx">stubAlert</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;background-color:yellow&quot;</span><span class="p">;</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos" data-line="104"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos" data-line="105"></span></a><span class="w">	</span><span class="nx">checkTalk</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">);</span><span class="w"> </span><span class="c1">//check talk page</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos" data-line="106"></span></a><span class="w">	</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos" data-line="107"></span></a><span class="w">	</span><span class="c1">// check for various tags</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos" data-line="108"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">alertColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;yellow&quot;</span><span class="p">;</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos" data-line="109"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">imageList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Array</span><span class="p">(</span><span class="s2">&quot;Text_document_with_red_question_mark.svg&quot;</span><span class="p">,</span><span class="w"> </span>
</span><span id="L-110"><a href="#L-110"><span class="linenos" data-line="110"></span></a><span class="w">			</span><span class="s2">&quot;Question book-new.svg&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Ambox content.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Ambox style.png&quot;</span><span class="p">,</span><span class="w"> </span>
</span><span id="L-111"><a href="#L-111"><span class="linenos" data-line="111"></span></a><span class="w">			</span><span class="s2">&quot;Imbox style.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Copyright-problem.svg&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Copyright-problem paste.svg&quot;</span><span class="p">,</span><span class="w"> </span>
</span><span id="L-112"><a href="#L-112"><span class="linenos" data-line="112"></span></a><span class="w">			</span><span class="s2">&quot;Ambox globe content.svg&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Unbalanced scales.svg&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Ambox scales.svg&quot;</span><span class="p">,</span><span class="w"> </span>
</span><span id="L-113"><a href="#L-113"><span class="linenos" data-line="113"></span></a><span class="w">			</span><span class="s2">&quot;Ambox_contradict.svg&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Ambox warning orange.svg&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Acap.svg&quot;</span><span class="p">);</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos" data-line="114"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">tagList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Array</span><span class="p">(</span><span class="s2">&quot;unverified content&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;insufficient citations&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;dispute&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;cleanup&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;cleanup&quot;</span><span class="p">,</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos" data-line="115"></span></a><span class="w">			</span><span class="s2">&quot;copyright violations&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;copyright violations&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;globalization&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;neutrality&quot;</span><span class="p">,</span><span class="w"> </span>
</span><span id="L-116"><a href="#L-116"><span class="linenos" data-line="116"></span></a><span class="w">			</span><span class="s2">&quot;neutrality&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;contradiction&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;dispute&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;copyedit&quot;</span><span class="p">);</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos" data-line="117"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">tagsFound</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos" data-line="118"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">tagAlert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">);</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos" data-line="119"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">&quot;This article is being considered for deletion in accordance with Wikipedia&#39;s&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos" data-line="120"></span></a><span class="w">		</span><span class="nx">tagsFound</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos" data-line="121"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">afdIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;title=&quot;Wikipedia:Articles for deletion/&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">7</span><span class="p">;</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos" data-line="122"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">afdLink</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">afdIndex</span><span class="p">,</span><span class="w"> </span><span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">afdIndex</span><span class="p">));</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos" data-line="123"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">afdBoldTag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">);</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos" data-line="124"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">afdLinkTag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">);</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos" data-line="125"></span></a><span class="w">		</span><span class="nx">afdLinkTag</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;//en.wikipedia.org/wiki/&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">afdLink</span><span class="p">);</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos" data-line="126"></span></a><span class="w">		</span><span class="nx">afdLinkTag</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s2">&quot;nominated for deletion&quot;</span><span class="p">));</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos" data-line="127"></span></a><span class="w">		</span><span class="nx">afdBoldTag</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">afdLinkTag</span><span class="p">);</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos" data-line="128"></span></a><span class="w">		</span><span class="nx">tagAlert</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s2">&quot;Article has been &quot;</span><span class="p">));</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos" data-line="129"></span></a><span class="w">		</span><span class="nx">tagAlert</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">afdBoldTag</span><span class="p">);</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos" data-line="130"></span></a><span class="w">		</span><span class="nx">tagAlert</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s2">&quot;. &quot;</span><span class="p">));</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos" data-line="131"></span></a><span class="w">		</span><span class="nx">alertColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pink&quot;</span><span class="p">;</span><span class="w">			</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos" data-line="132"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;&lt;table class=&quot;plainlinks ombox ombox-speedy&quot;&#39;</span><span class="p">))</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>
</span><span id="L-133"><a href="#L-133"><span class="linenos" data-line="133"></span></a><span class="w">			</span><span class="p">(</span><span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;&lt;table class=&quot;plainlinks ambox ambox-speedy&quot;&#39;</span><span class="p">))</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>
</span><span id="L-134"><a href="#L-134"><span class="linenos" data-line="134"></span></a><span class="w">			</span><span class="p">(</span><span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;&lt;table class=&quot;metadata plainlinks ombox ombox-speedy&quot;&#39;</span><span class="p">))</span><span class="w"> </span><span class="o">||</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos" data-line="135"></span></a><span class="w">			</span><span class="p">(</span><span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;&lt;table class=&quot;metadata plainlinks ambox ambox-speedy&quot;&#39;</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos" data-line="136"></span></a><span class="w">		</span><span class="nx">tagsFound</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos" data-line="137"></span></a><span class="w">		</span><span class="nx">tagAlert</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="s2">&quot;Article has been &lt;b&gt;tagged for speedy deletion&lt;/b&gt;. &quot;</span><span class="p">);</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos" data-line="138"></span></a><span class="w">		</span><span class="nx">alertColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pink&quot;</span><span class="p">;</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos" data-line="139"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos" data-line="140"></span></a><span class="w">	</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">iImage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">iImage</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">imageList</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">iImage</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos" data-line="141"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">imageList</span><span class="p">[</span><span class="nx">iImage</span><span class="p">]))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos" data-line="142"></span></a><span class="w">			</span><span class="nx">tagsFound</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos" data-line="143"></span></a><span class="w">			</span><span class="nx">tagAlert</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s2">&quot;Article has a &quot;</span><span class="p">));</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos" data-line="144"></span></a><span class="w">			</span><span class="nx">tagAlert</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">tagList</span><span class="p">[</span><span class="nx">iImage</span><span class="p">]));</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos" data-line="145"></span></a><span class="w">			</span><span class="nx">tagAlert</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s2">&quot; tag. &quot;</span><span class="p">));</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos" data-line="146"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos" data-line="147"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos" data-line="148"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">tagsFound</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos" data-line="149"></span></a><span class="w">		</span><span class="nx">tagAlert</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;tag-alert&quot;</span><span class="p">;</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos" data-line="150"></span></a><span class="w">		</span><span class="nx">tagAlert</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="s2">&quot;background-color&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">alertColor</span><span class="p">;</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos" data-line="151"></span></a><span class="w">		</span><span class="nx">output</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tagAlert</span><span class="p">);</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos" data-line="152"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos" data-line="153"></span></a><span class="w">		</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos" data-line="154"></span></a><span class="w">	</span><span class="c1">// find creator of article and date</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos" data-line="155"></span></a><span class="w">	</span><span class="nx">getFirstRevision</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">);</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos" data-line="156"></span></a><span class="w">	</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos" data-line="157"></span></a><span class="w">	</span><span class="c1">// check if the article has been moved from userspace within last 100 edits</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos" data-line="158"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgNamespaceNumber</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="mf">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos" data-line="159"></span></a><span class="w">		</span><span class="nx">checkMove</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">);</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos" data-line="160"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos" data-line="161"></span></a><span class="w">		</span><span class="nx">partsProcessing</span><span class="p">[</span><span class="mf">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos" data-line="162"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos" data-line="163"></span></a><span class="w">	</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos" data-line="164"></span></a><span class="w">	</span><span class="c1">// check for expansion start date, assuming now expanded to 5x (last 500 edits)</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos" data-line="165"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">onTTDYK</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="nx">check5xNoms</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;always&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="nx">check5xNoms</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;ifnom5x&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">nom5x</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos" data-line="166"></span></a><span class="w">		</span><span class="nx">checkExpansion</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">,</span><span class="w"> </span><span class="nx">prose</span><span class="p">);</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos" data-line="167"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos" data-line="168"></span></a><span class="p">}</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos" data-line="169"></span></a>
</span><span id="L-170"><a href="#L-170"><span class="linenos" data-line="170"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">checkDocument</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos" data-line="171"></span></a><span class="w">	</span><span class="c1">// prepares for scan and passes info to scanArticle()</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos" data-line="172"></span></a><span class="w">	</span><span class="nx">onTTDYK</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos" data-line="173"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-stats-0&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos" data-line="174"></span></a><span class="w">		</span><span class="nx">clearStats</span><span class="p">();</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos" data-line="175"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos" data-line="176"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;ul&quot;</span><span class="p">);</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos" data-line="177"></span></a><span class="w">		</span><span class="nx">output</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;dyk-stats-0&quot;</span><span class="p">;</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos" data-line="178"></span></a><span class="w">		</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos" data-line="179"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">body</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getBody</span><span class="p">();</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos" data-line="180"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">dummy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">body</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">)[</span><span class="mf">0</span><span class="p">];</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos" data-line="181"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">dummy</span><span class="p">.</span><span class="nx">nextSibling</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">dummy</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;siteNotice&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// if siteNotice is below siteSub</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos" data-line="182"></span></a><span class="w">			</span><span class="nx">dummy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dummy</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">;</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos" data-line="183"></span></a><span class="w">		</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">dummy</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">.</span><span class="nx">nextSibling</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">dummy</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;siteNotice&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos" data-line="184"></span></a><span class="w">			</span><span class="nx">dummy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dummy</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">;</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos" data-line="185"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos" data-line="186"></span></a><span class="w">		</span><span class="nx">dummy</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">output</span><span class="p">,</span><span class="w"> </span><span class="nx">dummy</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">);</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos" data-line="187"></span></a><span class="w">		</span><span class="nx">createHeaderAndProcessing</span><span class="p">(</span><span class="nx">output</span><span class="p">);</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos" data-line="188"></span></a><span class="w">		</span><span class="nx">currentTitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos" data-line="189"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgTitle</span><span class="p">;</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos" data-line="190"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgNamespaceNumber</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos" data-line="191"></span></a><span class="w">			</span><span class="nx">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;User:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">title</span><span class="p">;</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos" data-line="192"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos" data-line="193"></span></a><span class="w">		</span><span class="nx">scanArticle</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">,</span><span class="w"> </span><span class="nx">body</span><span class="p">);</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos" data-line="194"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos" data-line="195"></span></a><span class="p">}</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos" data-line="196"></span></a>
</span><span id="L-197"><a href="#L-197"><span class="linenos" data-line="197"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">checkTTDYK</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos" data-line="198"></span></a><span class="w">	</span><span class="c1">// finds the current nomination</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos" data-line="199"></span></a><span class="w">	</span><span class="c1">// can jump to a section if it shows up in the URL</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos" data-line="200"></span></a><span class="w">	</span><span class="c1">// (i.e. http://en.wikipedia.org/wiki/T:TDYK#Older_nominations)</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos" data-line="201"></span></a><span class="w">	</span><span class="c1">// prepares for scan and passes info to checkHooks() and scanArticle() (through pit stop)</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos" data-line="202"></span></a>
</span><span id="L-203"><a href="#L-203"><span class="linenos" data-line="203"></span></a><span class="w">	</span><span class="nx">onTTDYK</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos" data-line="204"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">sections</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos" data-line="205"></span></a><span class="w">		</span><span class="nx">sections</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;h4&quot;</span><span class="p">);</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos" data-line="206"></span></a><span class="w">		</span><span class="nx">nextSection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getFirstNom</span><span class="p">();</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos" data-line="207"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos" data-line="208"></span></a><span class="w">	</span><span class="c1">// Jumping code</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos" data-line="209"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos" data-line="210"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">sectionAt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="p">;</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos" data-line="211"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">sectionAt</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">urlJump</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos" data-line="212"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">jump</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">sectionAt</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">sectionAt</span><span class="p">.</span><span class="nx">length</span><span class="p">));</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos" data-line="213"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jump</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos" data-line="214"></span></a><span class="w">			</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nx">next</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s2">&quot;h4&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos" data-line="215"></span></a><span class="w">				</span><span class="nx">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">next</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">;</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos" data-line="216"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos" data-line="217"></span></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">iSection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">iSection</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">sections</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">iSection</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos" data-line="218"></span></a><span class="w">				</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">sections</span><span class="p">[</span><span class="nx">iSection</span><span class="p">]</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos" data-line="219"></span></a><span class="w">					</span><span class="nx">nextSection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">iSection</span><span class="p">;</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos" data-line="220"></span></a><span class="w">					</span><span class="nx">urlJump</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">sectionAt</span><span class="p">;</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos" data-line="221"></span></a><span class="w">					</span><span class="k">break</span><span class="p">;</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos" data-line="222"></span></a><span class="w">				</span><span class="p">}</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos" data-line="223"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos" data-line="224"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos" data-line="225"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos" data-line="226"></span></a><span class="w">	</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos" data-line="227"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">nextSection</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">sections</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos" data-line="228"></span></a><span class="w">		</span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Reached end of nominations; looping to beginning&quot;</span><span class="p">);</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos" data-line="229"></span></a><span class="w">		</span><span class="nx">nextSection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getFirstNom</span><span class="p">();</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos" data-line="230"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos" data-line="231"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-stats-0&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos" data-line="232"></span></a><span class="w">		</span><span class="nx">clearStats</span><span class="p">();</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos" data-line="233"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos" data-line="234"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">firstOutput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;ul&quot;</span><span class="p">);</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos" data-line="235"></span></a><span class="w">	</span><span class="nx">firstOutput</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;dyk-stats-0&quot;</span><span class="p">;</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos" data-line="236"></span></a><span class="w">	</span><span class="nx">sections</span><span class="p">[</span><span class="nx">nextSection</span><span class="p">].</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">firstOutput</span><span class="p">,</span><span class="w"> </span><span class="nx">sections</span><span class="p">[</span><span class="nx">nextSection</span><span class="p">]);</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos" data-line="237"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">hook</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">checkHooks</span><span class="p">(</span><span class="nx">firstOutput</span><span class="p">);</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos" data-line="238"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">hook</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos" data-line="239"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">hookErrorDisp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos" data-line="240"></span></a><span class="w">		</span><span class="nx">hookErrorDisp</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;error-disp&quot;</span><span class="p">;</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos" data-line="241"></span></a><span class="w">		</span><span class="nx">hookErrorDisp</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;color:red; font-weight:bold;&#39;</span><span class="p">;</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos" data-line="242"></span></a><span class="w">		</span><span class="nx">hookErrorDisp</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Error: Hook is not formatted correctly&#39;</span><span class="p">;</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos" data-line="243"></span></a><span class="w">		</span><span class="nx">firstOutput</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">hookErrorDisp</span><span class="p">,</span><span class="w"> </span><span class="nx">firstOutput</span><span class="p">);</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos" data-line="244"></span></a><span class="w">		</span><span class="nx">nextSection</span><span class="o">++</span><span class="p">;</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos" data-line="245"></span></a><span class="w">		</span><span class="k">return</span><span class="p">;</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos" data-line="246"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos" data-line="247"></span></a><span class="w">	</span><span class="nx">createHeaderAndProcessing</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-stats-0&quot;</span><span class="p">));</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos" data-line="248"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">tempHolder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos" data-line="249"></span></a><span class="w">	</span><span class="nx">tempHolder</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;temp-holder&quot;</span><span class="p">;</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos" data-line="250"></span></a><span class="w">	</span><span class="nx">tempHolder</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">hook</span><span class="p">;</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos" data-line="251"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">bolded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">tempHolder</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">);</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos" data-line="252"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">articleTitlesTemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Array</span><span class="p">(</span><span class="nx">bolded</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos" data-line="253"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">titlesCounter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos" data-line="254"></span></a><span class="w">	</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">iBolded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">iBolded</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">bolded</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">iBolded</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos" data-line="255"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">links</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">bolded</span><span class="p">[</span><span class="nx">iBolded</span><span class="p">].</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">);</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos" data-line="256"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">links</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos" data-line="257"></span></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">iLink</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">iLink</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">links</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">iLink</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos" data-line="258"></span></a><span class="w">				</span><span class="kd">var</span><span class="w"> </span><span class="nx">linkTitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">links</span><span class="p">[</span><span class="nx">iLink</span><span class="p">].</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">);</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos" data-line="259"></span></a><span class="w">				</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">linkTitle</span><span class="p">)</span><span class="w"> </span><span class="nx">linkTitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">links</span><span class="p">[</span><span class="nx">iLink</span><span class="p">].</span><span class="nx">innerHTML</span><span class="p">;</span><span class="w"> </span><span class="c1">// links that aren&#39;t piped</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos" data-line="260"></span></a><span class="w">				</span><span class="nx">articleTitlesTemp</span><span class="p">[</span><span class="nx">titlesCounter</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">linkTitle</span><span class="p">;</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos" data-line="261"></span></a><span class="w">				</span><span class="nx">titlesCounter</span><span class="o">++</span><span class="p">;</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos" data-line="262"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos" data-line="263"></span></a><span class="w">		</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos" data-line="264"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">pointer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">bolded</span><span class="p">[</span><span class="nx">iBolded</span><span class="p">];</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos" data-line="265"></span></a><span class="w">			</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nx">pointer</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">tempHolder</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos" data-line="266"></span></a><span class="w">				</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">pointer</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;a&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos" data-line="267"></span></a><span class="w">					</span><span class="kd">var</span><span class="w"> </span><span class="nx">pointerTitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">pointer</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">);</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos" data-line="268"></span></a><span class="w">					</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">pointerTitle</span><span class="p">)</span><span class="w"> </span><span class="nx">pointerTitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">pointer</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">;</span><span class="w"> </span><span class="c1">// links that aren&#39;t piped</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos" data-line="269"></span></a><span class="w">					</span><span class="nx">articleTitlesTemp</span><span class="p">[</span><span class="nx">titlesCounter</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">pointerTitle</span><span class="p">;</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos" data-line="270"></span></a><span class="w">					</span><span class="nx">titlesCounter</span><span class="o">++</span><span class="p">;</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos" data-line="271"></span></a><span class="w">				</span><span class="p">}</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos" data-line="272"></span></a><span class="w">				</span><span class="nx">pointer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">pointer</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos" data-line="273"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos" data-line="274"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos" data-line="275"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos" data-line="276"></span></a><span class="w">	</span><span class="nx">currentTitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos" data-line="277"></span></a><span class="w">	</span><span class="nx">articleTitles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Array</span><span class="p">(</span><span class="nx">titlesCounter</span><span class="p">);</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos" data-line="278"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">hookOutput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;hook-container&quot;</span><span class="p">);</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos" data-line="279"></span></a><span class="w">	</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">titlesCounter</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos" data-line="280"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">output</span><span class="p">;</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos" data-line="281"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos" data-line="282"></span></a><span class="w">			</span><span class="nx">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">firstOutput</span><span class="p">;</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos" data-line="283"></span></a><span class="w">		</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos" data-line="284"></span></a><span class="w">			</span><span class="nx">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;ul&quot;</span><span class="p">);</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos" data-line="285"></span></a><span class="w">			</span><span class="nx">output</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;dyk-stats-&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">i</span><span class="p">;</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos" data-line="286"></span></a><span class="w">			</span><span class="nx">hookOutput</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">output</span><span class="p">,</span><span class="w"> </span><span class="nx">hookOutput</span><span class="p">);</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos" data-line="287"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos" data-line="288"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">articleDisp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">);</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos" data-line="289"></span></a><span class="w">		</span><span class="nx">articleDisp</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;article-title&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">i</span><span class="p">;</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos" data-line="290"></span></a><span class="w">		</span><span class="nx">output</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">articleDisp</span><span class="p">);</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos" data-line="291"></span></a><span class="w">		</span><span class="nx">articleDisp</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&lt;b&gt;Article &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;:&lt;/b&gt; &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">articleTitlesTemp</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos" data-line="292"></span></a><span class="w">		</span><span class="nx">articleTitles</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">articleTitlesTemp</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos" data-line="293"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos" data-line="294"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">titlesCounter</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos" data-line="295"></span></a><span class="w">		</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;article-title0&quot;</span><span class="p">).</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&lt;b&gt;Article:&lt;/b&gt; &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">articleTitles</span><span class="p">[</span><span class="mf">0</span><span class="p">]);</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos" data-line="296"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">titlesCounter</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos" data-line="297"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-processing&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos" data-line="298"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">processing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-processing&quot;</span><span class="p">);</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos" data-line="299"></span></a><span class="w">			</span><span class="nx">processing</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">processing</span><span class="p">);</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos" data-line="300"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos" data-line="301"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">boldErrorDisp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos" data-line="302"></span></a><span class="w">		</span><span class="nx">boldErrorDisp</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;error-disp&quot;</span><span class="p">;</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos" data-line="303"></span></a><span class="w">		</span><span class="nx">boldErrorDisp</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;color:red; font-weight:bold;&#39;</span><span class="p">;</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos" data-line="304"></span></a><span class="w">		</span><span class="nx">boldErrorDisp</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s1">&#39;Error: The nominated article must appear in bold&#39;</span><span class="p">);</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos" data-line="305"></span></a><span class="w">		</span><span class="nx">sections</span><span class="p">[</span><span class="nx">nextSection</span><span class="p">].</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">boldErrorDisp</span><span class="p">,</span><span class="w"> </span><span class="nx">firstOutput</span><span class="p">);</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos" data-line="306"></span></a><span class="w">		</span><span class="nx">nextSection</span><span class="o">++</span><span class="p">;</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos" data-line="307"></span></a><span class="w">		</span><span class="k">return</span><span class="p">;</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos" data-line="308"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos" data-line="309"></span></a><span class="w">	</span><span class="nx">nextSection</span><span class="o">++</span><span class="p">;</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos" data-line="310"></span></a><span class="w">	</span><span class="nx">checkTitle</span><span class="p">(</span><span class="nx">articleTitles</span><span class="p">[</span><span class="mf">0</span><span class="p">],</span><span class="w"> </span><span class="nx">firstOutput</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">);</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos" data-line="311"></span></a><span class="p">}</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos" data-line="312"></span></a>
</span><span id="L-313"><a href="#L-313"><span class="linenos" data-line="313"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">checkHooks</span><span class="p">(</span><span class="nx">output</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos" data-line="314"></span></a><span class="w">	</span><span class="c1">// gets the nomination section (complete with comments, etc) and passes this to helper function</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos" data-line="315"></span></a><span class="w">	</span><span class="c1">// returns the last suggested hook so the parent method can find article titles</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos" data-line="316"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">hookOutput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;ul&quot;</span><span class="p">);</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos" data-line="317"></span></a><span class="w">	</span><span class="nx">hookOutput</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hook-container&quot;</span><span class="p">;</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos" data-line="318"></span></a><span class="w">	</span><span class="nx">output</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">hookOutput</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">);</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos" data-line="319"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">bodyHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getBody</span><span class="p">().</span><span class="nx">innerHTML</span><span class="p">;</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos" data-line="320"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">thisSection</span><span class="p">;</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos" data-line="321"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">nextSection</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">sections</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos" data-line="322"></span></a><span class="w">		</span><span class="nx">thisSection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">bodyHTML</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">bodyHTML</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">sections</span><span class="p">[</span><span class="nx">nextSection</span><span class="p">].</span><span class="nx">innerHTML</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">sections</span><span class="p">[</span><span class="nx">nextSection</span><span class="p">].</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="w"> </span>
</span><span id="L-323"><a href="#L-323"><span class="linenos" data-line="323"></span></a><span class="w">				</span><span class="nx">bodyHTML</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">sections</span><span class="p">[</span><span class="nx">nextSection</span><span class="o">+</span><span class="mf">1</span><span class="p">].</span><span class="nx">innerHTML</span><span class="p">));</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos" data-line="324"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos" data-line="325"></span></a><span class="w">		</span><span class="nx">thisSection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">bodyHTML</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">bodyHTML</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">sections</span><span class="p">[</span><span class="nx">nextSection</span><span class="p">].</span><span class="nx">innerHTML</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">sections</span><span class="p">[</span><span class="nx">nextSection</span><span class="p">].</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="w"> </span>
</span><span id="L-326"><a href="#L-326"><span class="linenos" data-line="326"></span></a><span class="w">				</span><span class="nx">bodyHTML</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;NewPP limit report&#39;</span><span class="p">));</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos" data-line="327"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos" data-line="328"></span></a><span class="w">	</span><span class="nx">thisSection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">thisSection</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;that,&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;that &#39;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;...that &#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;... that &#39;</span><span class="p">);</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos" data-line="329"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">thisSection</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">&quot;5x expan&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos" data-line="330"></span></a><span class="w">		</span><span class="nx">nom5x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos" data-line="331"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos" data-line="332"></span></a><span class="w">		</span><span class="nx">nom5x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos" data-line="333"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos" data-line="334"></span></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">checkHooksHelper</span><span class="p">(</span><span class="nx">hookOutput</span><span class="p">,</span><span class="w"> </span><span class="nx">thisSection</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">);</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos" data-line="335"></span></a><span class="p">}</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos" data-line="336"></span></a>
</span><span id="L-337"><a href="#L-337"><span class="linenos" data-line="337"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">checkHooksHelper</span><span class="p">(</span><span class="nx">hookOutput</span><span class="p">,</span><span class="w"> </span><span class="nx">whatsLeft</span><span class="p">,</span><span class="w"> </span><span class="nx">num</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos" data-line="338"></span></a><span class="w">	</span><span class="c1">// recursively finds proposed hooks for a nom</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos" data-line="339"></span></a><span class="w">	</span><span class="c1">// identifies hooks starting with &quot; ... that &quot; and ending with &quot;?&quot;</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos" data-line="340"></span></a><span class="w">	</span><span class="c1">// does not count &quot;... &quot; or &quot;(pictured)&quot; in hook character count</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos" data-line="341"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">hook</span><span class="p">;</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos" data-line="342"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">questionIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">whatsLeft</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">);</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos" data-line="343"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">whatsLeftLowerCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">whatsLeft</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos" data-line="344"></span></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="nx">whatsLeftLowerCase</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;&lt;a &quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">questionIndex</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span>
</span><span id="L-345"><a href="#L-345"><span class="linenos" data-line="345"></span></a><span class="w">			</span><span class="nx">whatsLeftLowerCase</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;&lt;/a&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">questionIndex</span><span class="p">))</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>
</span><span id="L-346"><a href="#L-346"><span class="linenos" data-line="346"></span></a><span class="w">			</span><span class="p">((</span><span class="o">!</span><span class="nx">whatsLeftLowerCase</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">&quot;&lt;a &quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">questionIndex</span><span class="p">))</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>
</span><span id="L-347"><a href="#L-347"><span class="linenos" data-line="347"></span></a><span class="w">			</span><span class="p">(</span><span class="nx">whatsLeftLowerCase</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">&quot;&lt;/a&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">questionIndex</span><span class="p">)))</span><span class="w"> </span><span class="o">||</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos" data-line="348"></span></a><span class="w">			</span><span class="p">(</span><span class="nx">whatsLeftLowerCase</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;&lt;i&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">questionIndex</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span>
</span><span id="L-349"><a href="#L-349"><span class="linenos" data-line="349"></span></a><span class="w">			</span><span class="nx">whatsLeftLowerCase</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;&lt;/i&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">questionIndex</span><span class="p">))</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>
</span><span id="L-350"><a href="#L-350"><span class="linenos" data-line="350"></span></a><span class="w">			</span><span class="p">((</span><span class="o">!</span><span class="nx">whatsLeftLowerCase</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">&quot;&lt;i&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">questionIndex</span><span class="p">))</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>
</span><span id="L-351"><a href="#L-351"><span class="linenos" data-line="351"></span></a><span class="w">			</span><span class="p">(</span><span class="nx">whatsLeftLowerCase</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">&quot;&lt;/i&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">questionIndex</span><span class="p">))))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos" data-line="352"></span></a><span class="w">		</span><span class="nx">questionIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">whatsLeft</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">questionIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos" data-line="353"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos" data-line="354"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">whatsLeft</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">&quot;... that &quot;</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">questionIndex</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos" data-line="355"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">whatsLeft</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;... that &quot;</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">questionIndex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos" data-line="356"></span></a><span class="w">			</span><span class="nx">hook</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">whatsLeft</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">whatsLeft</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;... that &quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span><span class="w"> </span>
</span><span id="L-357"><a href="#L-357"><span class="linenos" data-line="357"></span></a><span class="w">					</span><span class="nx">questionIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos" data-line="358"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">hookTemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos" data-line="359"></span></a><span class="w">			</span><span class="nx">hookTemp</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hook-temp&quot;</span><span class="p">;</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos" data-line="360"></span></a><span class="w">			</span><span class="nx">hookTemp</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&lt;p&gt;&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">hook</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;&lt;/p&gt;&quot;</span><span class="p">;</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos" data-line="361"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">hookLength</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">calculateProse</span><span class="p">(</span><span class="nx">hookTemp</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos" data-line="362"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">hookTemp</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">&quot;pictured)&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>
</span><span id="L-363"><a href="#L-363"><span class="linenos" data-line="363"></span></a><span class="w">					</span><span class="nx">hookTemp</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">&quot;(pictured&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos" data-line="364"></span></a><span class="w">				</span><span class="nx">hookLength</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">hookLength</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">10</span><span class="p">;</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos" data-line="365"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos" data-line="366"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">hookDisp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">);</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos" data-line="367"></span></a><span class="w">			</span><span class="nx">hookDisp</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hooks-&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">num</span><span class="p">;</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos" data-line="368"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">num</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos" data-line="369"></span></a><span class="w">				</span><span class="nx">hookDisp</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&lt;b&gt;Original Hook:&lt;/b&gt; &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">hookLength</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; characters&#39;</span><span class="p">;</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos" data-line="370"></span></a><span class="w">			</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos" data-line="371"></span></a><span class="w">				</span><span class="nx">hookDisp</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&lt;b&gt;Alternate Hook &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="s1">&#39;&lt;/b&gt;: &#39;</span><span class="w"> </span><span class="o">+</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos" data-line="372"></span></a><span class="w">					</span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">hookLength</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; characters&#39;</span><span class="p">;</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos" data-line="373"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos" data-line="374"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">hookLength</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">hookLengthRed</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos" data-line="375"></span></a><span class="w">				</span><span class="nx">hookDisp</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;background-color:pink&#39;</span><span class="p">;</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos" data-line="376"></span></a><span class="w">			</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">hookLength</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">hookLengthYellow</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos" data-line="377"></span></a><span class="w">				</span><span class="nx">hookDisp</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;background-color:yellow&#39;</span><span class="p">;</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos" data-line="378"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos" data-line="379"></span></a><span class="w">			</span><span class="nx">hookOutput</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">hookDisp</span><span class="p">);</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos" data-line="380"></span></a><span class="w">			</span><span class="nx">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">num</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos" data-line="381"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos" data-line="382"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">parsed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">whatsLeft</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">questionIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">whatsLeft</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos" data-line="383"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">lastHook</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">checkHooksHelper</span><span class="p">(</span><span class="nx">hookOutput</span><span class="p">,</span><span class="w"> </span><span class="nx">parsed</span><span class="p">,</span><span class="w"> </span><span class="nx">num</span><span class="p">);</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos" data-line="384"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">lastHook</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">hook</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos" data-line="385"></span></a><span class="w">			</span><span class="nx">lastHook</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">hook</span><span class="p">;</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos" data-line="386"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos" data-line="387"></span></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">lastHook</span><span class="p">;</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos" data-line="388"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos" data-line="389"></span></a><span class="w">	</span><span class="k">return</span><span class="p">;</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos" data-line="390"></span></a><span class="p">}</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos" data-line="391"></span></a>
</span><span id="L-392"><a href="#L-392"><span class="linenos" data-line="392"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">checkTitle</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">,</span><span class="w"> </span><span class="nx">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos" data-line="393"></span></a><span class="w">	</span><span class="c1">// gets the given title from Wikipedia&#39;s server and passes it to scanArticle(),</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos" data-line="394"></span></a><span class="w">	</span><span class="c1">// resolving any redirects.</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos" data-line="395"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">promise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">get</span><span class="p">({</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos" data-line="396"></span></a><span class="w">		</span><span class="nx">format</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;json&#39;</span><span class="p">,</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos" data-line="397"></span></a><span class="w">		</span><span class="nx">action</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;parse&#39;</span><span class="p">,</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos" data-line="398"></span></a><span class="w">		</span><span class="nx">page</span><span class="o">:</span><span class="w"> </span><span class="nx">title</span><span class="p">,</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos" data-line="399"></span></a><span class="w">		</span><span class="nx">redirects</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos" data-line="400"></span></a><span class="w">		</span><span class="nx">prop</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;text&#39;</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos" data-line="401"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos" data-line="402"></span></a><span class="w">	</span><span class="nx">promise</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos" data-line="403"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">ttdykTemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos" data-line="404"></span></a><span class="w">		</span><span class="nx">ttdykTemp</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;ttdyk-temp&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">i</span><span class="p">;</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos" data-line="405"></span></a><span class="w">		</span><span class="nx">ttdykTemp</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">obj</span><span class="p">.</span><span class="nx">parse</span><span class="p">.</span><span class="nx">text</span><span class="p">[</span><span class="s2">&quot;*&quot;</span><span class="p">];</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos" data-line="406"></span></a><span class="w">		</span><span class="nx">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">obj</span><span class="p">.</span><span class="nx">parse</span><span class="p">.</span><span class="nx">title</span><span class="p">;</span><span class="w"> </span><span class="c1">// Get the new title if we were redirected</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos" data-line="407"></span></a><span class="w">		</span><span class="nx">scanArticle</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">,</span><span class="w"> </span><span class="nx">ttdykTemp</span><span class="p">);</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos" data-line="408"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos" data-line="409"></span></a><span class="w">	</span><span class="nx">promise</span><span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos" data-line="410"></span></a><span class="w">		</span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;API error&quot;</span><span class="p">);</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos" data-line="411"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos" data-line="412"></span></a><span class="p">}</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos" data-line="413"></span></a>
</span><span id="L-414"><a href="#L-414"><span class="linenos" data-line="414"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">clearStats</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos" data-line="415"></span></a><span class="w">	</span><span class="c1">// if scan results already exist, turn them off and remove highlighting</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos" data-line="416"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">onTTDYK</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos" data-line="417"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">oldStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-stats-0&quot;</span><span class="p">).</span><span class="nx">className</span><span class="p">;</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos" data-line="418"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">mainContent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getBody</span><span class="p">();</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos" data-line="419"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">pList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mainContent</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">);</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos" data-line="420"></span></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">iPara</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">iPara</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">pList</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">iPara</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos" data-line="421"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">pList</span><span class="p">[</span><span class="nx">iPara</span><span class="p">].</span><span class="nx">parentNode</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">mainContent</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">pList</span><span class="p">[</span><span class="nx">iPara</span><span class="p">].</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">parentNode</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">mainContent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos" data-line="422"></span></a><span class="w">				</span><span class="nx">pList</span><span class="p">[</span><span class="nx">iPara</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">oldStyle</span><span class="p">;</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos" data-line="423"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos" data-line="424"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos" data-line="425"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos" data-line="426"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;error-disp&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos" data-line="427"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">errorDisp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;error-disp&quot;</span><span class="p">);</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos" data-line="428"></span></a><span class="w">		</span><span class="nx">errorDisp</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">errorDisp</span><span class="p">);</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos" data-line="429"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos" data-line="430"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">iStat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos" data-line="431"></span></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-stats-&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">iStat</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos" data-line="432"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-stats-&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">iStat</span><span class="p">);</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos" data-line="433"></span></a><span class="w">		</span><span class="nx">output</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">output</span><span class="p">);</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos" data-line="434"></span></a><span class="w">		</span><span class="nx">iStat</span><span class="o">++</span><span class="p">;</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos" data-line="435"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos" data-line="436"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;hook-container&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos" data-line="437"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">hookOutput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;hook-container&quot;</span><span class="p">);</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos" data-line="438"></span></a><span class="w">		</span><span class="nx">hookOutput</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">hookOutput</span><span class="p">);</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos" data-line="439"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos" data-line="440"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-header&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos" data-line="441"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-header&quot;</span><span class="p">);</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos" data-line="442"></span></a><span class="w">		</span><span class="nx">header</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">header</span><span class="p">);</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos" data-line="443"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos" data-line="444"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-processing&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos" data-line="445"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">processing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-processing&quot;</span><span class="p">);</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos" data-line="446"></span></a><span class="w">		</span><span class="nx">processing</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">processing</span><span class="p">);</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos" data-line="447"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos" data-line="448"></span></a><span class="p">}</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos" data-line="449"></span></a>
</span><span id="L-450"><a href="#L-450"><span class="linenos" data-line="450"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">calculateProse</span><span class="p">(</span><span class="nx">doc</span><span class="p">,</span><span class="w"> </span><span class="nx">visible</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos" data-line="451"></span></a><span class="w">	</span><span class="c1">// calculates the prose of a given document</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos" data-line="452"></span></a><span class="w">	</span><span class="c1">// this function and its helper below are modified versions of</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos" data-line="453"></span></a><span class="w">	</span><span class="c1">// the prosesize tool (http://en.wikipedia.org/wiki/User:Dr_pda/prosesize.js)</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos" data-line="454"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">pList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">doc</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">);</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos" data-line="455"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">prose_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos" data-line="456"></span></a><span class="w">	</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos" data-line="457"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos" data-line="458"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgAction</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;submit&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">visible</span><span class="p">)</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// Avoid the &quot;Remember that this is only a preview&quot; text</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos" data-line="459"></span></a><span class="w">	</span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">pList</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos" data-line="460"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">pList</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">parentNode</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">doc</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">pList</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">getBodyId</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos" data-line="461"></span></a><span class="w">			</span><span class="nx">prose_size</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">getReadable</span><span class="p">(</span><span class="nx">pList</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span><span class="w"> </span><span class="nx">visible</span><span class="p">);</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos" data-line="462"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">onTTDYK</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">visible</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos" data-line="463"></span></a><span class="w">				</span><span class="nx">pList</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;background-color:yellow&#39;</span><span class="p">;</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos" data-line="464"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos" data-line="465"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos" data-line="466"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos" data-line="467"></span></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">prose_size</span><span class="p">;</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos" data-line="468"></span></a><span class="p">}</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos" data-line="469"></span></a>
</span><span id="L-470"><a href="#L-470"><span class="linenos" data-line="470"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">getReadable</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span><span class="w"> </span><span class="nx">visible</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos" data-line="471"></span></a><span class="w">	</span><span class="c1">// helper method for calculateProse()</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos" data-line="472"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">textReadable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos" data-line="473"></span></a><span class="w">	</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">id</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos" data-line="474"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">id</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">nodeName</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;#text&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos" data-line="475"></span></a><span class="w">			</span><span class="nx">textReadable</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">id</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">nodeValue</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos" data-line="476"></span></a><span class="w">		</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">id</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s1">&#39;reference&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="nx">id</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;emplate&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos" data-line="477"></span></a><span class="w">				</span><span class="nx">id</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">id</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s1">&#39;coordinates&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos" data-line="478"></span></a><span class="w">			</span><span class="nx">textReadable</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">getReadable</span><span class="p">(</span><span class="nx">id</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span><span class="w"> </span><span class="nx">visible</span><span class="p">);</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos" data-line="479"></span></a><span class="w">		</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">visible</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// if it&#39;s an inline maintenance tag (like [citation needed]) or geocoordinates</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos" data-line="480"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-stats-0&quot;</span><span class="p">).</span><span class="nx">className</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos" data-line="481"></span></a><span class="w">				</span><span class="nx">id</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-stats-0&quot;</span><span class="p">).</span><span class="nx">className</span><span class="p">;</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos" data-line="482"></span></a><span class="w">			</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos" data-line="483"></span></a><span class="w">				</span><span class="nx">id</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;background-color:white&#39;</span><span class="p">;</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos" data-line="484"></span></a><span class="w">			</span><span class="p">}</span><span class="w">	</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos" data-line="485"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos" data-line="486"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos" data-line="487"></span></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">textReadable</span><span class="p">;</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos" data-line="488"></span></a><span class="p">}</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos" data-line="489"></span></a>
</span><span id="L-490"><a href="#L-490"><span class="linenos" data-line="490"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">checkExpansion</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">,</span><span class="w"> </span><span class="nx">current</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
</span><span id="L-491"><a href="#L-491"><span class="linenos" data-line="491"></span></a><span class="w">	</span><span class="c1">// finds the start of expansion date (last 500 edits)</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos" data-line="492"></span></a><span class="w">	</span><span class="c1">// gets the last 500 unique revision ids for past revisions of the article and passes to helper function</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos" data-line="493"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">promise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getRevisions</span><span class="p">({</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos" data-line="494"></span></a><span class="w">		</span><span class="nx">titles</span><span class="o">:</span><span class="w"> </span><span class="nx">title</span><span class="p">,</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos" data-line="495"></span></a><span class="w">		</span><span class="nx">rvlimit</span><span class="o">:</span><span class="w"> </span><span class="mf">500</span><span class="p">,</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos" data-line="496"></span></a><span class="w">		</span><span class="nx">rvprop</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;ids&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;timestamp&#39;</span><span class="p">],</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos" data-line="497"></span></a><span class="w">		</span><span class="nx">rvdir</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;older&#39;</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos" data-line="498"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos" data-line="499"></span></a><span class="w">	</span><span class="nx">promise</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">revisions</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos" data-line="500"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">expandTemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos" data-line="501"></span></a><span class="w">		</span><span class="nx">expandTemp</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;expand-temp&quot;</span><span class="p">;</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos" data-line="502"></span></a><span class="w">		</span><span class="nx">checkExpansionHelper</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">current</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">,</span><span class="w"> </span><span class="nx">expandTemp</span><span class="p">,</span><span class="w"> </span><span class="nx">revisions</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">revisions</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">);</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos" data-line="503"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos" data-line="504"></span></a><span class="p">}</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos" data-line="505"></span></a>
</span><span id="L-506"><a href="#L-506"><span class="linenos" data-line="506"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">checkExpansionHelper</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">current</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">,</span><span class="w"> </span><span class="nx">expandTemp</span><span class="p">,</span><span class="w"> </span><span class="nx">revisions</span><span class="p">,</span><span class="w"> </span><span class="nx">min</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="p">,</span><span class="w"> </span><span class="nx">expandIndex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos" data-line="507"></span></a><span class="w">	</span><span class="c1">// helper for expansion check, used recursively</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos" data-line="508"></span></a><span class="w">	</span><span class="c1">// searches for start of expansion date using a binary search algorithm</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos" data-line="509"></span></a><span class="w">	</span><span class="c1">// assumes the article has been more or less increasing in size all the time</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos" data-line="510"></span></a><span class="w">	</span><span class="c1">// if the article length has yoyo-ed, this function won&#39;t give accurate results</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos" data-line="511"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">mid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">((</span><span class="nx">max</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">min</span><span class="p">)</span><span class="o">/</span><span class="mf">2</span><span class="p">);</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos" data-line="512"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">((((</span><span class="nx">max</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">min</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">2</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="nx">max</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">revisions</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">expandIndex</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">))</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">expandIndex</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="o">-</span><span class="mf">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos" data-line="513"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">expandResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">);</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos" data-line="514"></span></a><span class="w">		</span><span class="nx">expandResult</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;expand-result&quot;</span><span class="p">;</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos" data-line="515"></span></a><span class="w">		</span><span class="nx">output</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">expandResult</span><span class="p">);</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos" data-line="516"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">expandIndex</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos" data-line="517"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">revisions</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">500</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos" data-line="518"></span></a><span class="w">				</span><span class="nx">expandResult</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="s1">&#39;Article has not been expanded 5x in the last 500 edits&#39;</span><span class="p">);</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos" data-line="519"></span></a><span class="w">			</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos" data-line="520"></span></a><span class="w">				</span><span class="nx">expandResult</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="s1">&#39;Article has not been expanded 5x since it was created&#39;</span><span class="p">);</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos" data-line="521"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos" data-line="522"></span></a><span class="w">		</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos" data-line="523"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">revisions</span><span class="p">[</span><span class="nx">expandIndex</span><span class="o">-</span><span class="mf">1</span><span class="p">].</span><span class="nx">timestamp</span><span class="p">;</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos" data-line="524"></span></a><span class="w">			</span><span class="nx">expandResult</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Assuming article is at 5x now, expansion began &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>
</span><span id="L-525"><a href="#L-525"><span class="linenos" data-line="525"></span></a><span class="w">					</span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">expandIndex</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; edits ago on &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">toNormalDate</span><span class="p">(</span><span class="nx">date</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">10</span><span class="p">)));</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos" data-line="526"></span></a><span class="w">			</span><span class="nx">dates</span><span class="p">[</span><span class="mf">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">toDateObject</span><span class="p">(</span><span class="nx">date</span><span class="p">);</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos" data-line="527"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos" data-line="528"></span></a><span class="w">		</span><span class="nx">partsProcessing</span><span class="p">[</span><span class="mf">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos" data-line="529"></span></a><span class="w">		</span><span class="nx">doneProcessing</span><span class="p">();</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos" data-line="530"></span></a><span class="w">		</span><span class="k">return</span><span class="p">;</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos" data-line="531"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="nx">max</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">min</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">max</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">revisions</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos" data-line="532"></span></a><span class="w">		</span><span class="nx">expandIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mf">2</span><span class="p">;</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos" data-line="533"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos" data-line="534"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">promise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">get</span><span class="p">({</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos" data-line="535"></span></a><span class="w">		</span><span class="nx">format</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;json&#39;</span><span class="p">,</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos" data-line="536"></span></a><span class="w">		</span><span class="nx">action</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;parse&#39;</span><span class="p">,</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos" data-line="537"></span></a><span class="w">		</span><span class="nx">oldid</span><span class="o">:</span><span class="w"> </span><span class="nx">revisions</span><span class="p">[</span><span class="nx">mid</span><span class="p">].</span><span class="nx">revid</span><span class="p">,</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos" data-line="538"></span></a><span class="w">		</span><span class="nx">prop</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;text&#39;</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos" data-line="539"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos" data-line="540"></span></a><span class="w">	</span><span class="nx">promise</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos" data-line="541"></span></a><span class="w">		</span><span class="nx">expandTemp</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">obj</span><span class="p">.</span><span class="nx">parse</span><span class="p">.</span><span class="nx">text</span><span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">];</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos" data-line="542"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">prose</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">calculateProse</span><span class="p">(</span><span class="nx">expandTemp</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos" data-line="543"></span></a><span class="w">		</span><span class="c1">// alert(&quot;Prose: &quot; + prose + &quot; 1x: &quot; + current/5 + &quot; Mid: &quot; + mid + &quot; Expand index: &quot; + expandIndex); </span>
</span><span id="L-544"><a href="#L-544"><span class="linenos" data-line="544"></span></a><span class="w">		</span><span class="c1">// use above line to debug the expansion check</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos" data-line="545"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">prose</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="p">(</span><span class="nx">current</span><span class="o">/</span><span class="mf">5.0</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos" data-line="546"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="nx">expandIndex</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">mid</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="nx">expandIndex</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos" data-line="547"></span></a><span class="w">				</span><span class="nx">expandIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mid</span><span class="p">;</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos" data-line="548"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos" data-line="549"></span></a><span class="w">			</span><span class="nx">checkExpansionHelper</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">current</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">,</span><span class="w"> </span><span class="nx">expandTemp</span><span class="p">,</span><span class="w"> </span><span class="nx">revisions</span><span class="p">,</span><span class="w"> </span><span class="nx">min</span><span class="p">,</span><span class="w"> </span><span class="nx">mid</span><span class="p">,</span><span class="w"> </span><span class="nx">expandIndex</span><span class="p">);</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos" data-line="550"></span></a><span class="w">		</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos" data-line="551"></span></a><span class="w">			</span><span class="nx">checkExpansionHelper</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">current</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">,</span><span class="w"> </span><span class="nx">expandTemp</span><span class="p">,</span><span class="w"> </span><span class="nx">revisions</span><span class="p">,</span><span class="w"> </span><span class="nx">mid</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="p">,</span><span class="w"> </span><span class="nx">expandIndex</span><span class="p">);</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos" data-line="552"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos" data-line="553"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos" data-line="554"></span></a><span class="w">	</span><span class="nx">promise</span><span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos" data-line="555"></span></a><span class="w">		</span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;API error&quot;</span><span class="p">);</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos" data-line="556"></span></a><span class="w">		</span><span class="nx">partsProcessing</span><span class="p">[</span><span class="mf">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos" data-line="557"></span></a><span class="w">		</span><span class="nx">doneProcessing</span><span class="p">();</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos" data-line="558"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos" data-line="559"></span></a><span class="p">}</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos" data-line="560"></span></a>
</span><span id="L-561"><a href="#L-561"><span class="linenos" data-line="561"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">checkTalk</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
</span><span id="L-562"><a href="#L-562"><span class="linenos" data-line="562"></span></a><span class="w">	</span><span class="c1">// checks the talk page of the article for DYK, ITN, or stub templates</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos" data-line="563"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgNamespaceNumber</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="mf">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos" data-line="564"></span></a><span class="w">		</span><span class="nx">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Talk:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">title</span><span class="p">;</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos" data-line="565"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos" data-line="566"></span></a><span class="w">		</span><span class="nx">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">title</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot;User:&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;User talk:&quot;</span><span class="p">);</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos" data-line="567"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos" data-line="568"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">promise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getRevisions</span><span class="p">({</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos" data-line="569"></span></a><span class="w">		</span><span class="nx">titles</span><span class="o">:</span><span class="w"> </span><span class="nx">title</span><span class="p">,</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos" data-line="570"></span></a><span class="w">		</span><span class="nx">rvprop</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;content&#39;</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos" data-line="571"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos" data-line="572"></span></a><span class="w">	</span><span class="nx">promise</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">revisions</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos" data-line="573"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">revisions</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">revisions</span><span class="p">[</span><span class="mf">0</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos" data-line="574"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">talkPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">revisions</span><span class="p">[</span><span class="mf">0</span><span class="p">][</span><span class="s1">&#39;*&#39;</span><span class="p">];</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos" data-line="575"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos" data-line="576"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos" data-line="577"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/class\s*=\s*[sS]tub/</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>
</span><span id="L-578"><a href="#L-578"><span class="linenos" data-line="578"></span></a><span class="w">					</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;stub-alert&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="kc">null</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos" data-line="579"></span></a><span class="w">				</span><span class="nx">result</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s1">&#39;Article is classified as a stub &#39;</span><span class="p">;</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos" data-line="580"></span></a><span class="w">				</span><span class="nx">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;yellow&#39;</span><span class="p">;</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos" data-line="581"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos" data-line="582"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">dyktalkRegexMatches</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/{{\s*[dD](yk|YK\s?)talk[^}]*}}/g</span><span class="p">);</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos" data-line="583"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">dyktalkRegexMatches</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos" data-line="584"></span></a><span class="w">				</span><span class="c1">// if there&#39;s a DYK tag, try to find the date of previous appearance</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos" data-line="585"></span></a><span class="w">				</span><span class="nx">result</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s1">&#39;Article has appeared on Did You Know before &#39;</span><span class="p">;</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos" data-line="586"></span></a><span class="w">				</span><span class="kd">var</span><span class="w"> </span><span class="nx">dyktalkTag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dyktalkRegexMatches</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos" data-line="587"></span></a><span class="w">				</span><span class="kd">var</span><span class="w"> </span><span class="nx">firstPipeIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dyktalkTag</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">);</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos" data-line="588"></span></a><span class="w">				</span><span class="kd">var</span><span class="w"> </span><span class="nx">secondPipeIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dyktalkTag</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">firstPipeIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos" data-line="589"></span></a><span class="w">				</span><span class="kd">var</span><span class="w"> </span><span class="nx">thirdPipeIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dyktalkTag</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">secondPipeIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos" data-line="590"></span></a><span class="w">				</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">firstPipeIndex</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">secondPipeIndex</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos" data-line="591"></span></a><span class="w">					</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">thirdPipeIndex</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos" data-line="592"></span></a><span class="w">						</span><span class="nx">thirdPipeIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dyktalkTag</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span><span class="w"> </span><span class="c1">// -2 to get rid of the }}</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos" data-line="593"></span></a><span class="w">					</span><span class="p">}</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos" data-line="594"></span></a><span class="w">					</span><span class="kd">var</span><span class="w"> </span><span class="nx">monthDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dyktalkTag</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">firstPipeIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">secondPipeIndex</span><span class="p">);</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos" data-line="595"></span></a><span class="w">					</span><span class="kd">var</span><span class="w"> </span><span class="nx">year</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dyktalkTag</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">secondPipeIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">thirdPipeIndex</span><span class="p">);</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos" data-line="596"></span></a><span class="w">					</span><span class="kd">var</span><span class="w"> </span><span class="nx">featuredDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">(</span><span class="nx">monthDate</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">year</span><span class="p">);</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos" data-line="597"></span></a><span class="w">					</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">featuredDate</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s1">&#39;Invalid Date&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos" data-line="598"></span></a><span class="w">						</span><span class="kd">var</span><span class="w"> </span><span class="nx">month</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">featuredDate</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos" data-line="599"></span></a><span class="w">						</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">month</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos" data-line="600"></span></a><span class="w">							</span><span class="nx">month</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">month</span><span class="p">;</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos" data-line="601"></span></a><span class="w">						</span><span class="p">}</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos" data-line="602"></span></a><span class="w">						</span><span class="kd">var</span><span class="w"> </span><span class="nx">date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">featuredDate</span><span class="p">.</span><span class="nx">getDate</span><span class="p">();</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos" data-line="603"></span></a><span class="w">						</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">date</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos" data-line="604"></span></a><span class="w">							</span><span class="nx">date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">date</span><span class="p">;</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos" data-line="605"></span></a><span class="w">						</span><span class="p">}</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos" data-line="606"></span></a><span class="w">						</span><span class="kd">var</span><span class="w"> </span><span class="nx">dateString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">toNormalDate</span><span class="p">(</span><span class="nx">featuredDate</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;-&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">month</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;-&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">date</span><span class="p">);</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos" data-line="607"></span></a><span class="w">						</span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;, on &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">dateString</span><span class="p">);</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos" data-line="608"></span></a><span class="w">					</span><span class="p">}</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos" data-line="609"></span></a><span class="w">				</span><span class="p">}</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos" data-line="610"></span></a><span class="w">				</span><span class="nx">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;pink&#39;</span><span class="p">;</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos" data-line="611"></span></a><span class="w">			</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/rticle[ ]?[hH]istory[\s\S]*dykdate\s*=.*?\S/</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos" data-line="612"></span></a><span class="w">				</span><span class="nx">result</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s1">&#39;Article has appeared on Did You Know before &#39;</span><span class="p">;</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos" data-line="613"></span></a><span class="w">				</span><span class="nx">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;pink&#39;</span><span class="p">;</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos" data-line="614"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos" data-line="615"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/{{\s*[iI]TN(\st|t|T)alk/</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// {{ITNtalk}}, {{ITN talk}}, {{ITNTalk}}</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos" data-line="616"></span></a><span class="w">				</span><span class="nx">result</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s1">&#39;Article has appeared on In The News before &#39;</span><span class="p">;</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos" data-line="617"></span></a><span class="w">				</span><span class="nx">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;pink&#39;</span><span class="p">;</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos" data-line="618"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos" data-line="619"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">result</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos" data-line="620"></span></a><span class="w">				</span><span class="kd">var</span><span class="w"> </span><span class="nx">talkResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">);</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos" data-line="621"></span></a><span class="w">				</span><span class="nx">talkResult</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;talk-result&quot;</span><span class="p">;</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos" data-line="622"></span></a><span class="w">				</span><span class="nx">output</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">talkResult</span><span class="p">);</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos" data-line="623"></span></a><span class="w">				</span><span class="nx">talkResult</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">result</span><span class="p">;</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos" data-line="624"></span></a><span class="w">				</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">color</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos" data-line="625"></span></a><span class="w">					</span><span class="nx">talkResult</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="s2">&quot;background-color&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">color</span><span class="p">;</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos" data-line="626"></span></a><span class="w">				</span><span class="p">}</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos" data-line="627"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos" data-line="628"></span></a><span class="w">			</span><span class="nx">checkTalkForGoodArticleStatus</span><span class="p">(</span><span class="nx">talkPage</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">);</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos" data-line="629"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos" data-line="630"></span></a><span class="w">		</span><span class="nx">partsProcessing</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos" data-line="631"></span></a><span class="w">		</span><span class="nx">doneProcessing</span><span class="p">();</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos" data-line="632"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos" data-line="633"></span></a><span class="w">	</span><span class="nx">promise</span><span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos" data-line="634"></span></a><span class="w">		</span><span class="nx">partsProcessing</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos" data-line="635"></span></a><span class="w">		</span><span class="nx">doneProcessing</span><span class="p">();</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos" data-line="636"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos" data-line="637"></span></a><span class="p">}</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos" data-line="638"></span></a>
</span><span id="L-639"><a href="#L-639"><span class="linenos" data-line="639"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">checkTalkForGoodArticleStatus</span><span class="p">(</span><span class="nx">talkPage</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos" data-line="640"></span></a><span class="w">	</span><span class="c1">// Test cases:</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos" data-line="641"></span></a><span class="w">	</span><span class="c1">// Cathedral of the Immaculate Conception (Moscow) - ArticleHistory, two GANs (last successful), currently a featured article</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos" data-line="642"></span></a><span class="w">	</span><span class="c1">// LoveGame - ArticleHistory, one successful GAN, no GARs</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos" data-line="643"></span></a><span class="w">	</span><span class="c1">// Paparazzi (Lady Gaga song) - ArticleHistory, one successful GAN, unlisted after a GAR, another successful GAN, no-op GAR</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos" data-line="644"></span></a><span class="w">	</span><span class="c1">// Curtis (50 Cent album) - ArticleHistory, one successful GAN, unlisted after a GAR</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos" data-line="645"></span></a><span class="w">	</span><span class="c1">// G.U.Y. - ArticleHistory with unconventional formatting</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos" data-line="646"></span></a><span class="w">	</span><span class="c1">// Arthur Adams (comics) - ArticleHistory with unconventional formatting</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos" data-line="647"></span></a><span class="w">	</span><span class="c1">// Blackburn Firebrand - {{GA}}</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos" data-line="648"></span></a><span class="w">	</span><span class="c1">// Tony Hawk&#39;s Underground - {{GA}} with confounding {{Game}} tag</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos" data-line="649"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">gaDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos" data-line="650"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">gaRegexMatches</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/{{\s*[gG][aA]\s*[|][^}]*}}/g</span><span class="p">);</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos" data-line="651"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">gaRegexMatches</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos" data-line="652"></span></a><span class="w">		</span><span class="c1">// if there&#39;s a GA tag, try to find the date of promotion to Good Article</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos" data-line="653"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">gaTag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gaRegexMatches</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos" data-line="654"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">firstPipeIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gaTag</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">);</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos" data-line="655"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">secondPipeIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gaTag</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">firstPipeIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos" data-line="656"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">firstPipeIndex</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos" data-line="657"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">secondPipeIndex</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos" data-line="658"></span></a><span class="w">				</span><span class="nx">secondPipeIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gaTag</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span><span class="w"> </span><span class="c1">// -2 to get rid of the }}</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos" data-line="659"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos" data-line="660"></span></a><span class="w">			</span><span class="nx">gaDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gaTag</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">firstPipeIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">secondPipeIndex</span><span class="p">);</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos" data-line="661"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos" data-line="662"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/rticle[ ]?[hH]istory/</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-663"><a href="#L-663"><span class="linenos" data-line="663"></span></a><span class="w">		</span><span class="c1">// check ArticleHistory tag for Good Article status</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos" data-line="664"></span></a><span class="w">		</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos" data-line="665"></span></a><span class="w">		</span><span class="c1">// grab last GAN action</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos" data-line="666"></span></a><span class="w">		</span><span class="c1">// figure out action number</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos" data-line="667"></span></a><span class="w">		</span><span class="c1">// given action number, was action result &quot;listed&quot;?</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos" data-line="668"></span></a><span class="w">		</span><span class="c1">// if no, stop here - article is not a Good Article</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos" data-line="669"></span></a><span class="w">		</span><span class="c1">// if yes, grab the Good Article promotion date from actionXdate</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos" data-line="670"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">ganMatches</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/action[0123456789]+\s*=\s*(gan|GAN)/g</span><span class="p">);</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos" data-line="671"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">ganMatches</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos" data-line="672"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">lastGanAction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ganMatches</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
</span><span id="L-673"><a href="#L-673"><span class="linenos" data-line="673"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">lastGanActionNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">lastGanAction</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">6</span><span class="p">,</span><span class="w"> </span><span class="nx">lastGanAction</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">));</span><span class="w"> </span><span class="c1">// remove &#39;action&#39; and everything at and after the equals sign</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos" data-line="674"></span></a><span class="w">			</span><span class="nx">lastGanActionNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">lastGanActionNumber</span><span class="p">.</span><span class="nx">trim</span><span class="p">();</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos" data-line="675"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">ganResultIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;action&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">lastGanActionNumber</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="s1">&#39;result&#39;</span><span class="p">);</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos" data-line="676"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">ganResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">ganResultIndex</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">ganResultIndex</span><span class="p">)).</span><span class="nx">trim</span><span class="p">();</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos" data-line="677"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">ganResult</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;listed&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">ganResult</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;Listed&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">ganResult</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;passed&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">ganResult</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;Passed&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos" data-line="678"></span></a><span class="w">				</span><span class="kd">var</span><span class="w"> </span><span class="nx">ganDateIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;action&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">lastGanActionNumber</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="s1">&#39;date&#39;</span><span class="p">);</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos" data-line="679"></span></a><span class="w">				</span><span class="nx">gaDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">ganDateIndex</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">ganDateIndex</span><span class="p">)).</span><span class="nx">trim</span><span class="p">();</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos" data-line="680"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos" data-line="681"></span></a><span class="w">			</span>
</span><span id="L-682"><a href="#L-682"><span class="linenos" data-line="682"></span></a><span class="w">			</span><span class="c1">// then grab last GAR action</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos" data-line="683"></span></a><span class="w">			</span><span class="c1">// figure out action number</span>
</span><span id="L-684"><a href="#L-684"><span class="linenos" data-line="684"></span></a><span class="w">			</span><span class="c1">// is GAR action number after GAN action number? if yes, carry on</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos" data-line="685"></span></a><span class="w">			</span><span class="c1">// given action number, was action result &quot;not listed&quot;?</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos" data-line="686"></span></a><span class="w">			</span><span class="c1">// if yes, article is not a Good Article</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos" data-line="687"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">garMatches</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/action[0123456789]+\s*=\s*(gar|GAR)/g</span><span class="p">);</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos" data-line="688"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">garMatches</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos" data-line="689"></span></a><span class="w">				</span><span class="kd">var</span><span class="w"> </span><span class="nx">lastGarAction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">garMatches</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos" data-line="690"></span></a><span class="w">				</span><span class="kd">var</span><span class="w"> </span><span class="nx">lastGarActionNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">lastGarAction</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">6</span><span class="p">,</span><span class="w"> </span><span class="nx">lastGarAction</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">));</span><span class="w"> </span><span class="c1">// remove &#39;action&#39; and everything at and after the equals sign</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos" data-line="691"></span></a><span class="w">				</span><span class="nx">lastGarActionNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">lastGarActionNumber</span><span class="p">.</span><span class="nx">trim</span><span class="p">();</span>
</span><span id="L-692"><a href="#L-692"><span class="linenos" data-line="692"></span></a><span class="w">				</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">lastGarActionNumber</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">lastGanActionNumber</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos" data-line="693"></span></a><span class="w">					</span><span class="kd">var</span><span class="w"> </span><span class="nx">garResultIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;action&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">lastGarActionNumber</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="s1">&#39;result&#39;</span><span class="p">);</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos" data-line="694"></span></a><span class="w">					</span><span class="kd">var</span><span class="w"> </span><span class="nx">garResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">garResultIndex</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">talkPage</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">garResultIndex</span><span class="p">)).</span><span class="nx">trim</span><span class="p">();</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos" data-line="695"></span></a><span class="w">					</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">garResult</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;delisted&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">garResult</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;Delisted&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos" data-line="696"></span></a><span class="w">						</span><span class="nx">gaDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// Not a Good Article, GAR came after GAN and demoted the article</span>
</span><span id="L-697"><a href="#L-697"><span class="linenos" data-line="697"></span></a><span class="w">					</span><span class="p">}</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos" data-line="698"></span></a><span class="w">				</span><span class="p">}</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos" data-line="699"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos" data-line="700"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-701"><a href="#L-701"><span class="linenos" data-line="701"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-702"><a href="#L-702"><span class="linenos" data-line="702"></span></a><span class="w">	</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos" data-line="703"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">gaDate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos" data-line="704"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">gaDate</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">6</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">gaDate</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39; (UTC)&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">gaDate</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">6</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos" data-line="705"></span></a><span class="w">			</span><span class="nx">gaDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gaDate</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">gaDate</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">6</span><span class="p">);</span><span class="w"> </span><span class="c1">// The Boat Race 1997 is not parsing correctly if (UTC) is left in</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos" data-line="706"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-707"><a href="#L-707"><span class="linenos" data-line="707"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">gaDate</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">5</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">gaDate</span><span class="p">[</span><span class="mf">2</span><span class="p">]</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;:&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">gaDate</span><span class="p">[</span><span class="mf">5</span><span class="p">]</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;,&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos" data-line="708"></span></a><span class="w">			</span><span class="nx">gaDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gaDate</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">6</span><span class="p">,</span><span class="w"> </span><span class="nx">gaDate</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span><span class="w"> </span><span class="c1">// Chrome not parsing as expected for strings like &quot;17:21, 26 June 2014&quot;</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos" data-line="709"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos" data-line="710"></span></a><span class="w">		</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos" data-line="711"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">gaPromotion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">);</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos" data-line="712"></span></a><span class="w">		</span><span class="nx">gaPromotion</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;ga-promotion&quot;</span><span class="p">;</span>
</span><span id="L-713"><a href="#L-713"><span class="linenos" data-line="713"></span></a><span class="w">		</span><span class="nx">output</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">gaPromotion</span><span class="p">);</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos" data-line="714"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">gaPromotedDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">();</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos" data-line="715"></span></a><span class="w">		</span><span class="nx">gaPromotedDate</span><span class="p">.</span><span class="nx">setTime</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">gaDate</span><span class="p">));</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos" data-line="716"></span></a><span class="w">		</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos" data-line="717"></span></a><span class="w">		</span><span class="c1">// ensure the Date object is in the right time zone</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos" data-line="718"></span></a><span class="w">		</span><span class="nx">gaPromotedDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">UTC</span><span class="p">(</span><span class="nx">gaPromotedDate</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">(),</span><span class="w"> </span><span class="nx">gaPromotedDate</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">(),</span><span class="w"> </span><span class="nx">gaPromotedDate</span><span class="p">.</span><span class="nx">getDate</span><span class="p">(),</span><span class="w"> </span><span class="nx">gaPromotedDate</span><span class="p">.</span><span class="nx">getHours</span><span class="p">(),</span><span class="w"> </span><span class="nx">gaPromotedDate</span><span class="p">.</span><span class="nx">getMinutes</span><span class="p">(),</span><span class="w"> </span><span class="nx">gaPromotedDate</span><span class="p">.</span><span class="nx">getSeconds</span><span class="p">()));</span>
</span><span id="L-719"><a href="#L-719"><span class="linenos" data-line="719"></span></a><span class="w">		</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos" data-line="720"></span></a><span class="w">		</span><span class="nx">dates</span><span class="p">[</span><span class="mf">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gaPromotedDate</span><span class="p">;</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos" data-line="721"></span></a><span class="w">		</span><span class="nx">gaPromotion</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Article was promoted to Good Article status on &#39;</span><span class="w"> </span><span class="o">+</span>
</span><span id="L-722"><a href="#L-722"><span class="linenos" data-line="722"></span></a><span class="w">			</span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">toNormalDate</span><span class="p">(</span><span class="nx">gaPromotedDate</span><span class="p">.</span><span class="nx">toISOString</span><span class="p">()));</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos" data-line="723"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-724"><a href="#L-724"><span class="linenos" data-line="724"></span></a><span class="p">}</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos" data-line="725"></span></a>
</span><span id="L-726"><a href="#L-726"><span class="linenos" data-line="726"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">getRevisions</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-727"><a href="#L-727"><span class="linenos" data-line="727"></span></a><span class="w">	</span><span class="c1">// Returns a jQuery promise with an array of a title&#39;s revisions.</span>
</span><span id="L-728"><a href="#L-728"><span class="linenos" data-line="728"></span></a><span class="w">	</span><span class="c1">// The first parameter is an options object accepting the following API fields:</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos" data-line="729"></span></a><span class="w">	</span><span class="c1">// - titles</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos" data-line="730"></span></a><span class="w">	</span><span class="c1">// - rvlimit</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos" data-line="731"></span></a><span class="w">	</span><span class="c1">// - rvprop</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos" data-line="732"></span></a><span class="w">	</span><span class="c1">// - rvdir</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos" data-line="733"></span></a><span class="w">	</span><span class="nx">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">options</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">{};</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos" data-line="734"></span></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">get</span><span class="p">({</span>
</span><span id="L-735"><a href="#L-735"><span class="linenos" data-line="735"></span></a><span class="w">		</span><span class="nx">format</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;json&#39;</span><span class="p">,</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos" data-line="736"></span></a><span class="w">		</span><span class="nx">action</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;query&#39;</span><span class="p">,</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos" data-line="737"></span></a><span class="w">		</span><span class="nx">prop</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;revisions&#39;</span><span class="p">,</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos" data-line="738"></span></a><span class="w">		</span><span class="nx">titles</span><span class="o">:</span><span class="w"> </span><span class="nx">options</span><span class="p">.</span><span class="nx">titles</span><span class="p">,</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos" data-line="739"></span></a><span class="w">		</span><span class="nx">rvlimit</span><span class="o">:</span><span class="w"> </span><span class="nx">options</span><span class="p">.</span><span class="nx">rvlimit</span><span class="p">,</span>
</span><span id="L-740"><a href="#L-740"><span class="linenos" data-line="740"></span></a><span class="w">		</span><span class="nx">rvprop</span><span class="o">:</span><span class="w"> </span><span class="nx">options</span><span class="p">.</span><span class="nx">rvprop</span><span class="p">,</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos" data-line="741"></span></a><span class="w">		</span><span class="nx">rvdir</span><span class="o">:</span><span class="w"> </span><span class="nx">options</span><span class="p">.</span><span class="nx">rvdir</span><span class="p">,</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos" data-line="742"></span></a><span class="w">		</span><span class="nx">indexpageids</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
</span><span id="L-743"><a href="#L-743"><span class="linenos" data-line="743"></span></a><span class="w">	</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos" data-line="744"></span></a><span class="w">		</span><span class="c1">// On success</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos" data-line="745"></span></a><span class="w">		</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-746"><a href="#L-746"><span class="linenos" data-line="746"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">pageId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">obj</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">pageids</span><span class="p">[</span><span class="mf">0</span><span class="p">];</span>
</span><span id="L-747"><a href="#L-747"><span class="linenos" data-line="747"></span></a><span class="w">			</span><span class="k">return</span><span class="w"> </span><span class="nx">obj</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">pages</span><span class="p">[</span><span class="nx">pageId</span><span class="p">].</span><span class="nx">revisions</span><span class="p">;</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos" data-line="748"></span></a><span class="w">		</span><span class="p">},</span>
</span><span id="L-749"><a href="#L-749"><span class="linenos" data-line="749"></span></a><span class="w">		</span><span class="c1">// On failure</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos" data-line="750"></span></a><span class="w">		</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos" data-line="751"></span></a><span class="w">			</span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;API error&quot;</span><span class="p">);</span>
</span><span id="L-752"><a href="#L-752"><span class="linenos" data-line="752"></span></a><span class="w">			</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span><span class="p">;</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos" data-line="753"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos" data-line="754"></span></a><span class="w">	</span><span class="p">);</span>
</span><span id="L-755"><a href="#L-755"><span class="linenos" data-line="755"></span></a><span class="p">}</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos" data-line="756"></span></a>
</span><span id="L-757"><a href="#L-757"><span class="linenos" data-line="757"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">getFirstRevision</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos" data-line="758"></span></a><span class="w">	</span><span class="c1">// finds the creator of the article, and the date created</span>
</span><span id="L-759"><a href="#L-759"><span class="linenos" data-line="759"></span></a><span class="w">	</span><span class="c1">// also checks if the article was created as a redirect, finds non-redirect date if so</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos" data-line="760"></span></a>
</span><span id="L-761"><a href="#L-761"><span class="linenos" data-line="761"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">created</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">);</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos" data-line="762"></span></a><span class="w">	</span><span class="nx">created</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;creation-info&quot;</span><span class="p">;</span>
</span><span id="L-763"><a href="#L-763"><span class="linenos" data-line="763"></span></a><span class="w">	</span><span class="nx">output</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">created</span><span class="p">);</span>
</span><span id="L-764"><a href="#L-764"><span class="linenos" data-line="764"></span></a><span class="w">		</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos" data-line="765"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">promise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getRevisions</span><span class="p">({</span>
</span><span id="L-766"><a href="#L-766"><span class="linenos" data-line="766"></span></a><span class="w">		</span><span class="nx">titles</span><span class="o">:</span><span class="w"> </span><span class="nx">title</span><span class="p">,</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos" data-line="767"></span></a><span class="w">		</span><span class="nx">rvlimit</span><span class="o">:</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos" data-line="768"></span></a><span class="w">		</span><span class="nx">rvprop</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;timestamp&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;user&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;content&#39;</span><span class="p">],</span>
</span><span id="L-769"><a href="#L-769"><span class="linenos" data-line="769"></span></a><span class="w">		</span><span class="nx">rvdir</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;newer&#39;</span>
</span><span id="L-770"><a href="#L-770"><span class="linenos" data-line="770"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos" data-line="771"></span></a><span class="w">	</span><span class="nx">promise</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">revisions</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos" data-line="772"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">revisions</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">user</span><span class="p">;</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos" data-line="773"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">timestamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">revisions</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">timestamp</span><span class="p">;</span>
</span><span id="L-774"><a href="#L-774"><span class="linenos" data-line="774"></span></a><span class="w">		</span><span class="nx">created</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="s1">&#39;&lt;b&gt;Article created &lt;/b&gt; by &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>
</span><span id="L-775"><a href="#L-775"><span class="linenos" data-line="775"></span></a><span class="w">				</span><span class="s1">&#39; on &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">toNormalDate</span><span class="p">(</span><span class="nx">timestamp</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">10</span><span class="p">)));</span>
</span><span id="L-776"><a href="#L-776"><span class="linenos" data-line="776"></span></a><span class="w">		</span><span class="nx">dates</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">toDateObject</span><span class="p">(</span><span class="nx">timestamp</span><span class="p">);</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos" data-line="777"></span></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">revisions</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-778"><a href="#L-778"><span class="linenos" data-line="778"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">revisions</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="s1">&#39;*&#39;</span><span class="p">];</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos" data-line="779"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">isRedirect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">content</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">().</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;#REDIRECT[[&#39;</span><span class="p">);</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos" data-line="780"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isRedirect</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos" data-line="781"></span></a><span class="w">				</span><span class="nx">created</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">created</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; as a redirect&#39;</span><span class="p">;</span>
</span><span id="L-782"><a href="#L-782"><span class="linenos" data-line="782"></span></a><span class="w">			</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">isRedirect</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-783"><a href="#L-783"><span class="linenos" data-line="783"></span></a><span class="w">				</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-784"><a href="#L-784"><span class="linenos" data-line="784"></span></a><span class="w">					</span><span class="kd">var</span><span class="w"> </span><span class="nx">unRedirect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">);</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos" data-line="785"></span></a><span class="w">					</span><span class="nx">unRedirect</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;expanded-from-redirect&quot;</span><span class="p">;</span>
</span><span id="L-786"><a href="#L-786"><span class="linenos" data-line="786"></span></a><span class="w">					</span><span class="nx">output</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">unRedirect</span><span class="p">);</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos" data-line="787"></span></a><span class="w">					</span><span class="kd">var</span><span class="w"> </span><span class="nx">urUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">revisions</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">user</span><span class="p">;</span>
</span><span id="L-788"><a href="#L-788"><span class="linenos" data-line="788"></span></a><span class="w">					</span><span class="kd">var</span><span class="w"> </span><span class="nx">urTimestamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">revisions</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">timestamp</span><span class="p">;</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos" data-line="789"></span></a><span class="w">					</span><span class="nx">unRedirect</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Article became a non-redirect on &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>
</span><span id="L-790"><a href="#L-790"><span class="linenos" data-line="790"></span></a><span class="w">							</span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">toNormalDate</span><span class="p">(</span><span class="nx">urTimestamp</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">10</span><span class="p">)))</span><span class="w"> </span><span class="o">+</span>
</span><span id="L-791"><a href="#L-791"><span class="linenos" data-line="791"></span></a><span class="w">							</span><span class="s1">&#39; by &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">urUser</span><span class="p">);</span>
</span><span id="L-792"><a href="#L-792"><span class="linenos" data-line="792"></span></a><span class="w">					</span><span class="nx">dates</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">toDateObject</span><span class="p">(</span><span class="nx">urTimestamp</span><span class="p">);</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos" data-line="793"></span></a><span class="w">				</span><span class="p">}</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos" data-line="794"></span></a><span class="w">				</span><span class="k">break</span><span class="p">;</span>
</span><span id="L-795"><a href="#L-795"><span class="linenos" data-line="795"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-796"><a href="#L-796"><span class="linenos" data-line="796"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-797"><a href="#L-797"><span class="linenos" data-line="797"></span></a><span class="w">		</span><span class="nx">partsProcessing</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos" data-line="798"></span></a><span class="w">		</span><span class="nx">doneProcessing</span><span class="p">();</span>
</span><span id="L-799"><a href="#L-799"><span class="linenos" data-line="799"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos" data-line="800"></span></a><span class="w">	</span><span class="nx">promise</span><span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-801"><a href="#L-801"><span class="linenos" data-line="801"></span></a><span class="w">		</span><span class="nx">partsProcessing</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="L-802"><a href="#L-802"><span class="linenos" data-line="802"></span></a><span class="w">		</span><span class="nx">doneProcessing</span><span class="p">();</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos" data-line="803"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos" data-line="804"></span></a><span class="p">}</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos" data-line="805"></span></a>
</span><span id="L-806"><a href="#L-806"><span class="linenos" data-line="806"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">checkMove</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
</span><span id="L-807"><a href="#L-807"><span class="linenos" data-line="807"></span></a><span class="w">	</span><span class="c1">//checks the last 100 edits of an article for a move from userspace or AfC to current location</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos" data-line="808"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">promise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getRevisions</span><span class="p">({</span>
</span><span id="L-809"><a href="#L-809"><span class="linenos" data-line="809"></span></a><span class="w">		</span><span class="nx">titles</span><span class="o">:</span><span class="w"> </span><span class="nx">title</span><span class="p">,</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos" data-line="810"></span></a><span class="w">		</span><span class="nx">rvlimit</span><span class="o">:</span><span class="w"> </span><span class="mf">100</span><span class="p">,</span>
</span><span id="L-811"><a href="#L-811"><span class="linenos" data-line="811"></span></a><span class="w">		</span><span class="nx">rvprop</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;flags&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;user&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;timestamp&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;comment&#39;</span><span class="p">],</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos" data-line="812"></span></a><span class="w">		</span><span class="nx">rvdir</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;older&#39;</span><span class="p">,</span>
</span><span id="L-813"><a href="#L-813"><span class="linenos" data-line="813"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-814"><a href="#L-814"><span class="linenos" data-line="814"></span></a><span class="w">	</span><span class="nx">promise</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">revisions</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-815"><a href="#L-815"><span class="linenos" data-line="815"></span></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">revisions</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-816"><a href="#L-816"><span class="linenos" data-line="816"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">comment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">revisions</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">comment</span><span class="p">;</span>
</span><span id="L-817"><a href="#L-817"><span class="linenos" data-line="817"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">userName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">revisions</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">user</span><span class="p">;</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos" data-line="818"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="nx">revisions</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">minor</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>
</span><span id="L-819"><a href="#L-819"><span class="linenos" data-line="819"></span></a><span class="w">					</span><span class="nx">comment</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/moved (page )?((\[\[User:)|(\[\[Draft:)|(\[\[Wikipedia talk:Articles for creation\/))[\s\S]*to \[\[/</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-820"><a href="#L-820"><span class="linenos" data-line="820"></span></a><span class="w">				</span><span class="kd">var</span><span class="w"> </span><span class="nx">movedFrom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">comment</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">comment</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;[[&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="nx">comment</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;to [[&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">3</span><span class="p">);</span>
</span><span id="L-821"><a href="#L-821"><span class="linenos" data-line="821"></span></a><span class="w">				</span><span class="kd">var</span><span class="w"> </span><span class="nx">date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">revisions</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">timestamp</span><span class="p">;</span>
</span><span id="L-822"><a href="#L-822"><span class="linenos" data-line="822"></span></a><span class="w">				</span><span class="kd">var</span><span class="w"> </span><span class="nx">moved</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">);</span>
</span><span id="L-823"><a href="#L-823"><span class="linenos" data-line="823"></span></a><span class="w">				</span><span class="nx">moved</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;moved-userspace&quot;</span><span class="p">;</span>
</span><span id="L-824"><a href="#L-824"><span class="linenos" data-line="824"></span></a><span class="w">				</span><span class="nx">output</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">moved</span><span class="p">);</span>
</span><span id="L-825"><a href="#L-825"><span class="linenos" data-line="825"></span></a><span class="w">				</span><span class="nx">moved</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&lt;b&gt;Article moved&lt;/b&gt; from &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">movedFrom</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>
</span><span id="L-826"><a href="#L-826"><span class="linenos" data-line="826"></span></a><span class="w">						</span><span class="s1">&#39; on &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">toNormalDate</span><span class="p">(</span><span class="nx">date</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">10</span><span class="p">)));</span>
</span><span id="L-827"><a href="#L-827"><span class="linenos" data-line="827"></span></a><span class="w">				</span><span class="nx">dates</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">toDateObject</span><span class="p">(</span><span class="nx">date</span><span class="p">);</span>
</span><span id="L-828"><a href="#L-828"><span class="linenos" data-line="828"></span></a><span class="w">				</span><span class="k">break</span><span class="p">;</span>
</span><span id="L-829"><a href="#L-829"><span class="linenos" data-line="829"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-830"><a href="#L-830"><span class="linenos" data-line="830"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-831"><a href="#L-831"><span class="linenos" data-line="831"></span></a><span class="w">		</span><span class="nx">partsProcessing</span><span class="p">[</span><span class="mf">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="L-832"><a href="#L-832"><span class="linenos" data-line="832"></span></a><span class="w">		</span><span class="nx">doneProcessing</span><span class="p">();</span>
</span><span id="L-833"><a href="#L-833"><span class="linenos" data-line="833"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-834"><a href="#L-834"><span class="linenos" data-line="834"></span></a><span class="w">	</span><span class="nx">promise</span><span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-835"><a href="#L-835"><span class="linenos" data-line="835"></span></a><span class="w">		</span><span class="nx">partsProcessing</span><span class="p">[</span><span class="mf">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="L-836"><a href="#L-836"><span class="linenos" data-line="836"></span></a><span class="w">		</span><span class="nx">doneProcessing</span><span class="p">();</span>
</span><span id="L-837"><a href="#L-837"><span class="linenos" data-line="837"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos" data-line="838"></span></a><span class="p">}</span>
</span><span id="L-839"><a href="#L-839"><span class="linenos" data-line="839"></span></a>
</span><span id="L-840"><a href="#L-840"><span class="linenos" data-line="840"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">doneProcessing</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-841"><a href="#L-841"><span class="linenos" data-line="841"></span></a><span class="w">	</span><span class="c1">// checks if all parts are done processing</span>
</span><span id="L-842"><a href="#L-842"><span class="linenos" data-line="842"></span></a><span class="w">	</span><span class="c1">// if they are, the dates of creation and expansion are checked for within 10 days (rounded down, in nominator&#39;s favor)</span>
</span><span id="L-843"><a href="#L-843"><span class="linenos" data-line="843"></span></a><span class="w">	</span><span class="c1">// then the next title (for multiple article noms) is processed (required to combat asynchronous threads)</span>
</span><span id="L-844"><a href="#L-844"><span class="linenos" data-line="844"></span></a><span class="w">	</span><span class="c1">// if there are no more titles left (or not on T:TDYK), the processing message is removed</span>
</span><span id="L-845"><a href="#L-845"><span class="linenos" data-line="845"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">titleComplete</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="L-846"><a href="#L-846"><span class="linenos" data-line="846"></span></a><span class="w">	</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">partsProcessing</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-847"><a href="#L-847"><span class="linenos" data-line="847"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">partsProcessing</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-848"><a href="#L-848"><span class="linenos" data-line="848"></span></a><span class="w">			</span><span class="nx">titleComplete</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</span><span id="L-849"><a href="#L-849"><span class="linenos" data-line="849"></span></a><span class="w">			</span><span class="k">break</span><span class="p">;</span>
</span><span id="L-850"><a href="#L-850"><span class="linenos" data-line="850"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-851"><a href="#L-851"><span class="linenos" data-line="851"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-852"><a href="#L-852"><span class="linenos" data-line="852"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-processing&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">titleComplete</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-853"><a href="#L-853"><span class="linenos" data-line="853"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">curDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">();</span>
</span><span id="L-854"><a href="#L-854"><span class="linenos" data-line="854"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">winner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">();</span>
</span><span id="L-855"><a href="#L-855"><span class="linenos" data-line="855"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">dates</span><span class="p">[</span><span class="mf">1</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-856"><a href="#L-856"><span class="linenos" data-line="856"></span></a><span class="w">			</span><span class="nx">winner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dates</span><span class="p">[</span><span class="mf">1</span><span class="p">];</span><span class="w"> </span>
</span><span id="L-857"><a href="#L-857"><span class="linenos" data-line="857"></span></a><span class="w">		</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-858"><a href="#L-858"><span class="linenos" data-line="858"></span></a><span class="w">			</span><span class="nx">winner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dates</span><span class="p">[</span><span class="mf">0</span><span class="p">];</span>
</span><span id="L-859"><a href="#L-859"><span class="linenos" data-line="859"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-860"><a href="#L-860"><span class="linenos" data-line="860"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">dates</span><span class="p">[</span><span class="mf">2</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">winner</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-861"><a href="#L-861"><span class="linenos" data-line="861"></span></a><span class="w">			</span><span class="nx">winner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dates</span><span class="p">[</span><span class="mf">2</span><span class="p">];</span>
</span><span id="L-862"><a href="#L-862"><span class="linenos" data-line="862"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-863"><a href="#L-863"><span class="linenos" data-line="863"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">dates</span><span class="p">[</span><span class="mf">3</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">winner</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-864"><a href="#L-864"><span class="linenos" data-line="864"></span></a><span class="w">			</span><span class="nx">winner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dates</span><span class="p">[</span><span class="mf">3</span><span class="p">];</span>
</span><span id="L-865"><a href="#L-865"><span class="linenos" data-line="865"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-866"><a href="#L-866"><span class="linenos" data-line="866"></span></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">dateDifference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">((</span><span class="nx">curDate</span><span class="p">.</span><span class="nx">getTime</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">winner</span><span class="p">.</span><span class="nx">getTime</span><span class="p">())</span><span class="o">/</span><span class="p">(</span><span class="mf">1000</span><span class="o">*</span><span class="mf">60</span><span class="o">*</span><span class="mf">60</span><span class="o">*</span><span class="mf">24</span><span class="p">));</span>
</span><span id="L-867"><a href="#L-867"><span class="linenos" data-line="867"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">dateDifference</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-868"><a href="#L-868"><span class="linenos" data-line="868"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-stats-&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">currentTitle</span><span class="p">);</span>
</span><span id="L-869"><a href="#L-869"><span class="linenos" data-line="869"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">notRecent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">);</span>
</span><span id="L-870"><a href="#L-870"><span class="linenos" data-line="870"></span></a><span class="w">			</span><span class="nx">notRecent</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;not-recent&quot;</span><span class="p">;</span>
</span><span id="L-871"><a href="#L-871"><span class="linenos" data-line="871"></span></a><span class="w">			</span><span class="nx">output</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">notRecent</span><span class="p">);</span>
</span><span id="L-872"><a href="#L-872"><span class="linenos" data-line="872"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">onTTDYK</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="nx">check5xNoms</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;always&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="nx">check5xNoms</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;ifnom5x&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">nom5x</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-873"><a href="#L-873"><span class="linenos" data-line="873"></span></a><span class="w">				</span><span class="nx">notRecent</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Article has not been created or expanded 5x or promoted to Good Article within the past 10 days (&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>
</span><span id="L-874"><a href="#L-874"><span class="linenos" data-line="874"></span></a><span class="w">						</span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">dateDifference</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot; days)&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot; &lt;small&gt;DYKcheck does not account for previous versions with &quot;</span><span class="w"> </span><span class="o">+</span>
</span><span id="L-875"><a href="#L-875"><span class="linenos" data-line="875"></span></a><span class="w">						</span><span class="s1">&#39;&lt;a href=&quot;//en.wikipedia.org/wiki/Wikipedia:Split&quot;&gt;splits&lt;/a&gt; or &#39;</span><span class="w"> </span><span class="o">+</span>
</span><span id="L-876"><a href="#L-876"><span class="linenos" data-line="876"></span></a><span class="w">						</span><span class="s1">&#39;&lt;a href=&quot;//en.wikipedia.org/wiki/Wikipedia:Copyright_violations&quot;&gt;copyright violations&lt;/a&gt;.&lt;/small&gt;&#39;</span><span class="p">;</span>
</span><span id="L-877"><a href="#L-877"><span class="linenos" data-line="877"></span></a><span class="w">			</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-878"><a href="#L-878"><span class="linenos" data-line="878"></span></a><span class="w">				</span><span class="nx">notRecent</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Article was not created within the past 10 days (&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">escapeHtml</span><span class="p">(</span><span class="nx">dateDifference</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot; days)&quot;</span><span class="p">;</span>
</span><span id="L-879"><a href="#L-879"><span class="linenos" data-line="879"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="L-880"><a href="#L-880"><span class="linenos" data-line="880"></span></a><span class="w">			</span><span class="nx">notRecent</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;background-color:pink&#39;</span><span class="p">;</span>
</span><span id="L-881"><a href="#L-881"><span class="linenos" data-line="881"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-882"><a href="#L-882"><span class="linenos" data-line="882"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">onTTDYK</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">currentTitle</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="p">(</span><span class="nx">articleTitles</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-883"><a href="#L-883"><span class="linenos" data-line="883"></span></a><span class="w">			</span><span class="nx">currentTitle</span><span class="o">++</span><span class="p">;</span>
</span><span id="L-884"><a href="#L-884"><span class="linenos" data-line="884"></span></a><span class="w">			</span><span class="nx">checkTitle</span><span class="p">(</span><span class="nx">articleTitles</span><span class="p">[</span><span class="nx">currentTitle</span><span class="p">],</span><span class="w"> </span>
</span><span id="L-885"><a href="#L-885"><span class="linenos" data-line="885"></span></a><span class="w">					</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-stats-&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="nx">currentTitle</span><span class="p">)),</span><span class="w"> </span><span class="nx">currentTitle</span><span class="p">);</span>
</span><span id="L-886"><a href="#L-886"><span class="linenos" data-line="886"></span></a><span class="w">		</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-887"><a href="#L-887"><span class="linenos" data-line="887"></span></a><span class="w">			</span><span class="kd">var</span><span class="w"> </span><span class="nx">processing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;dyk-processing&quot;</span><span class="p">);</span>
</span><span id="L-888"><a href="#L-888"><span class="linenos" data-line="888"></span></a><span class="w">			</span><span class="nx">processing</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">processing</span><span class="p">);</span>
</span><span id="L-889"><a href="#L-889"><span class="linenos" data-line="889"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-890"><a href="#L-890"><span class="linenos" data-line="890"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-891"><a href="#L-891"><span class="linenos" data-line="891"></span></a><span class="p">}</span>
</span><span id="L-892"><a href="#L-892"><span class="linenos" data-line="892"></span></a>
</span><span id="L-893"><a href="#L-893"><span class="linenos" data-line="893"></span></a><span class="c1">// taken from the prosesize tool (http://en.wikipedia.org/wiki/User:Dr_pda/prosesize.js)</span>
</span><span id="L-894"><a href="#L-894"><span class="linenos" data-line="894"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">getBodyId</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-895"><a href="#L-895"><span class="linenos" data-line="895"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">contentName</span><span class="p">;</span>
</span><span id="L-896"><a href="#L-896"><span class="linenos" data-line="896"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">skin</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;monobook&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">skin</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;chick&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">skin</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;mymwConfig.skin&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">skin</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;simple&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-897"><a href="#L-897"><span class="linenos" data-line="897"></span></a><span class="w">		</span><span class="nx">contentName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;bodyContent&#39;</span><span class="p">;</span>
</span><span id="L-898"><a href="#L-898"><span class="linenos" data-line="898"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">skin</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;modern&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-899"><a href="#L-899"><span class="linenos" data-line="899"></span></a><span class="w">		</span><span class="nx">contentName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;mw_contentholder&#39;</span><span class="p">;</span>
</span><span id="L-900"><a href="#L-900"><span class="linenos" data-line="900"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">skin</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;standard&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">skin</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;cologneblue&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">skin</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;nostalgia&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-901"><a href="#L-901"><span class="linenos" data-line="901"></span></a><span class="w">		</span><span class="nx">contentName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;article&#39;</span><span class="p">;</span>
</span><span id="L-902"><a href="#L-902"><span class="linenos" data-line="902"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-903"><a href="#L-903"><span class="linenos" data-line="903"></span></a><span class="w">		</span><span class="c1">// fallback case; the above covers all currently existing skins</span>
</span><span id="L-904"><a href="#L-904"><span class="linenos" data-line="904"></span></a><span class="w">		</span><span class="nx">contentName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;bodyContent&#39;</span><span class="p">;</span>
</span><span id="L-905"><a href="#L-905"><span class="linenos" data-line="905"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-906"><a href="#L-906"><span class="linenos" data-line="906"></span></a><span class="w">	</span><span class="c1">// Same for all skins if previewing page</span>
</span><span id="L-907"><a href="#L-907"><span class="linenos" data-line="907"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgAction</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;submit&#39;</span><span class="p">)</span><span class="w"> </span><span class="nx">contentName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;wikiPreview&#39;</span><span class="p">;</span>
</span><span id="L-908"><a href="#L-908"><span class="linenos" data-line="908"></span></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">contentName</span><span class="p">;</span>
</span><span id="L-909"><a href="#L-909"><span class="linenos" data-line="909"></span></a><span class="p">}</span>
</span><span id="L-910"><a href="#L-910"><span class="linenos" data-line="910"></span></a>
</span><span id="L-911"><a href="#L-911"><span class="linenos" data-line="911"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">getBody</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
</span><span id="L-912"><a href="#L-912"><span class="linenos" data-line="912"></span></a><span class="w">	</span><span class="c1">// gets the HTML body of the page</span>
</span><span id="L-913"><a href="#L-913"><span class="linenos" data-line="913"></span></a><span class="w">	</span><span class="c1">// taken from the prosesize tool (http://en.wikipedia.org/wiki/User:Dr_pda/prosesize.js)</span>
</span><span id="L-914"><a href="#L-914"><span class="linenos" data-line="914"></span></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">getBodyId</span><span class="p">());</span>
</span><span id="L-915"><a href="#L-915"><span class="linenos" data-line="915"></span></a><span class="p">}</span>
</span><span id="L-916"><a href="#L-916"><span class="linenos" data-line="916"></span></a>
</span><span id="L-917"><a href="#L-917"><span class="linenos" data-line="917"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">getFirstNom</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-918"><a href="#L-918"><span class="linenos" data-line="918"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">firstNom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="L-919"><a href="#L-919"><span class="linenos" data-line="919"></span></a><span class="w">	</span>
</span><span id="L-920"><a href="#L-920"><span class="linenos" data-line="920"></span></a><span class="w">	</span><span class="c1">// Find the first &quot;Articles created/expanded on ...&quot; h3 section</span>
</span><span id="L-921"><a href="#L-921"><span class="linenos" data-line="921"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">elementIterator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">sections</span><span class="p">[</span><span class="nx">firstNom</span><span class="p">].</span><span class="nx">previousSibling</span><span class="p">;</span>
</span><span id="L-922"><a href="#L-922"><span class="linenos" data-line="922"></span></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nx">elementIterator</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s2">&quot;h3&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-923"><a href="#L-923"><span class="linenos" data-line="923"></span></a><span class="w">		</span><span class="nx">elementIterator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">elementIterator</span><span class="p">.</span><span class="nx">previousSibling</span><span class="p">;</span>
</span><span id="L-924"><a href="#L-924"><span class="linenos" data-line="924"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-925"><a href="#L-925"><span class="linenos" data-line="925"></span></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">elementIterator</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;h3&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>
</span><span id="L-926"><a href="#L-926"><span class="linenos" data-line="926"></span></a><span class="w">			</span><span class="nx">elementIterator</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">&quot;Articles created/expanded on&quot;</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-927"><a href="#L-927"><span class="linenos" data-line="927"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">elementIterator</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;h4&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-928"><a href="#L-928"><span class="linenos" data-line="928"></span></a><span class="w">			</span><span class="nx">firstNom</span><span class="o">++</span><span class="p">;</span>
</span><span id="L-929"><a href="#L-929"><span class="linenos" data-line="929"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-930"><a href="#L-930"><span class="linenos" data-line="930"></span></a><span class="w">		</span><span class="nx">elementIterator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">elementIterator</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">;</span>
</span><span id="L-931"><a href="#L-931"><span class="linenos" data-line="931"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-932"><a href="#L-932"><span class="linenos" data-line="932"></span></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">firstNom</span><span class="p">;</span>
</span><span id="L-933"><a href="#L-933"><span class="linenos" data-line="933"></span></a><span class="p">}</span>
</span><span id="L-934"><a href="#L-934"><span class="linenos" data-line="934"></span></a>
</span><span id="L-935"><a href="#L-935"><span class="linenos" data-line="935"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">createHeaderAndProcessing</span><span class="p">(</span><span class="nx">output</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
</span><span id="L-936"><a href="#L-936"><span class="linenos" data-line="936"></span></a><span class="w">	</span><span class="c1">// makes the header above the scan results</span>
</span><span id="L-937"><a href="#L-937"><span class="linenos" data-line="937"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;span&quot;</span><span class="p">);</span>
</span><span id="L-938"><a href="#L-938"><span class="linenos" data-line="938"></span></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;dyk-header&quot;</span><span class="p">;</span>
</span><span id="L-939"><a href="#L-939"><span class="linenos" data-line="939"></span></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&lt;br /&gt;&lt;b&gt;DYK eligibility scan results: &lt;small&gt;&lt;i&gt;(See &lt;a href=&quot;//en.wikipedia.org/wiki/&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>
</span><span id="L-940"><a href="#L-940"><span class="linenos" data-line="940"></span></a><span class="w">			</span><span class="s1">&#39;User:Shubinator/DYKcheck&quot;&gt;here&lt;/a&gt; for details.)&lt;/i&gt;&lt;/small&gt;&lt;/b&gt;&#39;</span><span class="p">;</span>
</span><span id="L-941"><a href="#L-941"><span class="linenos" data-line="941"></span></a><span class="w">	</span><span class="nx">output</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">header</span><span class="p">,</span><span class="nx">output</span><span class="p">);</span>
</span><span id="L-942"><a href="#L-942"><span class="linenos" data-line="942"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">processing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;span&quot;</span><span class="p">);</span>
</span><span id="L-943"><a href="#L-943"><span class="linenos" data-line="943"></span></a><span class="w">	</span><span class="nx">processing</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;dyk-processing&quot;</span><span class="p">;</span>
</span><span id="L-944"><a href="#L-944"><span class="linenos" data-line="944"></span></a><span class="w">	</span><span class="nx">processing</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&lt;br /&gt;&lt;b&gt;&lt;font color=&quot;crimson&quot;&gt; Processing... &lt;/font&gt;&lt;/b&gt;&#39;</span><span class="p">;</span>
</span><span id="L-945"><a href="#L-945"><span class="linenos" data-line="945"></span></a><span class="w">	</span><span class="nx">output</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">processing</span><span class="p">,</span><span class="w"> </span><span class="nx">header</span><span class="p">);</span>
</span><span id="L-946"><a href="#L-946"><span class="linenos" data-line="946"></span></a><span class="p">}</span>
</span><span id="L-947"><a href="#L-947"><span class="linenos" data-line="947"></span></a>
</span><span id="L-948"><a href="#L-948"><span class="linenos" data-line="948"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">toNormalDate</span><span class="p">(</span><span class="nx">utc</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
</span><span id="L-949"><a href="#L-949"><span class="linenos" data-line="949"></span></a><span class="w">	</span><span class="c1">// converts the date part of a Wikipedia timestamp to a readable date</span>
</span><span id="L-950"><a href="#L-950"><span class="linenos" data-line="950"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">months</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Array</span><span class="p">(</span><span class="s2">&quot;blank&quot;</span><span class="p">,</span><span class="s2">&quot;January&quot;</span><span class="p">,</span><span class="s2">&quot;February&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;March&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;April&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;May&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;June&quot;</span><span class="p">,</span><span class="w"> </span>
</span><span id="L-951"><a href="#L-951"><span class="linenos" data-line="951"></span></a><span class="w">			</span><span class="s2">&quot;July&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;August&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;September&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;October&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;November&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;December&quot;</span><span class="p">);</span>
</span><span id="L-952"><a href="#L-952"><span class="linenos" data-line="952"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">dateFormat</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;british&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-953"><a href="#L-953"><span class="linenos" data-line="953"></span></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="nx">utc</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">8</span><span class="p">,</span><span class="mf">10</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">months</span><span class="p">[</span><span class="nx">utc</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">5</span><span class="p">,</span><span class="mf">7</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">utc</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">4</span><span class="p">);</span>
</span><span id="L-954"><a href="#L-954"><span class="linenos" data-line="954"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-955"><a href="#L-955"><span class="linenos" data-line="955"></span></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">months</span><span class="p">[</span><span class="nx">utc</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">5</span><span class="p">,</span><span class="mf">7</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="nx">utc</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">8</span><span class="p">,</span><span class="mf">10</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;, &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">utc</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">4</span><span class="p">);</span>
</span><span id="L-956"><a href="#L-956"><span class="linenos" data-line="956"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-957"><a href="#L-957"><span class="linenos" data-line="957"></span></a><span class="p">}</span>
</span><span id="L-958"><a href="#L-958"><span class="linenos" data-line="958"></span></a>
</span><span id="L-959"><a href="#L-959"><span class="linenos" data-line="959"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">toDateObject</span><span class="p">(</span><span class="nx">timestamp</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
</span><span id="L-960"><a href="#L-960"><span class="linenos" data-line="960"></span></a><span class="w">	</span><span class="c1">// converts a Wikipedia timestamp to a Javascript Date object</span>
</span><span id="L-961"><a href="#L-961"><span class="linenos" data-line="961"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">();</span>
</span><span id="L-962"><a href="#L-962"><span class="linenos" data-line="962"></span></a><span class="w">	</span><span class="nx">date</span><span class="p">.</span><span class="nx">setUTCFullYear</span><span class="p">(</span><span class="nx">timestamp</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">4</span><span class="p">),</span><span class="w"> </span><span class="nx">timestamp</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">5</span><span class="p">,</span><span class="mf">7</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">timestamp</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">8</span><span class="p">,</span><span class="mf">10</span><span class="p">));</span>
</span><span id="L-963"><a href="#L-963"><span class="linenos" data-line="963"></span></a><span class="w">	</span><span class="nx">date</span><span class="p">.</span><span class="nx">setUTCHours</span><span class="p">(</span><span class="nx">timestamp</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">11</span><span class="p">,</span><span class="mf">13</span><span class="p">),</span><span class="w"> </span><span class="nx">timestamp</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">14</span><span class="p">,</span><span class="mf">16</span><span class="p">),</span><span class="w"> </span><span class="nx">timestamp</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mf">17</span><span class="p">,</span><span class="mf">19</span><span class="p">));</span>
</span><span id="L-964"><a href="#L-964"><span class="linenos" data-line="964"></span></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">date</span><span class="p">;</span>
</span><span id="L-965"><a href="#L-965"><span class="linenos" data-line="965"></span></a><span class="p">}</span>
</span><span id="L-966"><a href="#L-966"><span class="linenos" data-line="966"></span></a>
</span><span id="L-967"><a href="#L-967"><span class="linenos" data-line="967"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">fixSidebar</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// part of the code to fix the sidebar; the rest is below the addOnloadHook function</span>
</span><span id="L-968"><a href="#L-968"><span class="linenos" data-line="968"></span></a><span class="w">	</span><span class="c1">// this function is only necessary for the monobook skin</span>
</span><span id="L-969"><a href="#L-969"><span class="linenos" data-line="969"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;column-content&quot;</span><span class="p">);</span><span class="w">    </span><span class="c1">// Find the main content column</span>
</span><span id="L-970"><a href="#L-970"><span class="linenos" data-line="970"></span></a>
</span><span id="L-971"><a href="#L-971"><span class="linenos" data-line="971"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">footer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;footer&quot;</span><span class="p">);</span><span class="w">  </span><span class="c1">// Find the footer</span>
</span><span id="L-972"><a href="#L-972"><span class="linenos" data-line="972"></span></a><span class="w">	</span><span class="nx">footer</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">footer</span><span class="p">);</span><span class="w">    </span><span class="c1">// Remove the footer from the global wrapper</span>
</span><span id="L-973"><a href="#L-973"><span class="linenos" data-line="973"></span></a><span class="w">	</span><span class="nx">content</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">footer</span><span class="p">);</span><span class="w">    </span><span class="c1">// Place footer at the end of the content column;</span>
</span><span id="L-974"><a href="#L-974"><span class="linenos" data-line="974"></span></a>
</span><span id="L-975"><a href="#L-975"><span class="linenos" data-line="975"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">tabs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;p-cactions&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">// Find the top tab list</span>
</span><span id="L-976"><a href="#L-976"><span class="linenos" data-line="976"></span></a><span class="w">	</span><span class="nx">tabs</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">tabs</span><span class="p">);</span><span class="w">    </span><span class="c1">// Remove the tab list from the side column</span>
</span><span id="L-977"><a href="#L-977"><span class="linenos" data-line="977"></span></a><span class="w">	</span><span class="nx">content</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">tabs</span><span class="p">,</span><span class="w"> </span><span class="nx">content</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">);</span><span class="w">    </span><span class="c1">// Place tab list in the content column</span>
</span><span id="L-978"><a href="#L-978"><span class="linenos" data-line="978"></span></a>
</span><span id="L-979"><a href="#L-979"><span class="linenos" data-line="979"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">personal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;p-personal&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">// Find the personal links list</span>
</span><span id="L-980"><a href="#L-980"><span class="linenos" data-line="980"></span></a><span class="w">	</span><span class="nx">personal</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">personal</span><span class="p">);</span><span class="w">    </span><span class="c1">// Remove the personal links list from the side column</span>
</span><span id="L-981"><a href="#L-981"><span class="linenos" data-line="981"></span></a><span class="w">	</span><span class="nx">content</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">personal</span><span class="p">,</span><span class="w"> </span><span class="nx">content</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">);</span><span class="w">    </span><span class="c1">// Place personal links list in the content column</span>
</span><span id="L-982"><a href="#L-982"><span class="linenos" data-line="982"></span></a><span class="p">}</span>
</span><span id="L-983"><a href="#L-983"><span class="linenos" data-line="983"></span></a>
</span><span id="L-984"><a href="#L-984"><span class="linenos" data-line="984"></span></a><span class="nb">window</span><span class="p">.</span><span class="nx">dykCheck</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
</span><span id="L-985"><a href="#L-985"><span class="linenos" data-line="985"></span></a><span class="w">	</span><span class="c1">// this function for casual use and anons</span>
</span><span id="L-986"><a href="#L-986"><span class="linenos" data-line="986"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(((</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgAction</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;view&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgAction</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;submit&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgAction</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;purge&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>
</span><span id="L-987"><a href="#L-987"><span class="linenos" data-line="987"></span></a><span class="w">			</span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgNamespaceNumber</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgNamespaceNumber</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">2</span><span class="p">))</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">unlock</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-988"><a href="#L-988"><span class="linenos" data-line="988"></span></a><span class="w">		</span><span class="nx">checkDocument</span><span class="p">();</span>
</span><span id="L-989"><a href="#L-989"><span class="linenos" data-line="989"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgPageName</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;Template_talk:Did_you_know&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-990"><a href="#L-990"><span class="linenos" data-line="990"></span></a><span class="w">		</span><span class="nx">checkTTDYK</span><span class="p">();</span>
</span><span id="L-991"><a href="#L-991"><span class="linenos" data-line="991"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-992"><a href="#L-992"><span class="linenos" data-line="992"></span></a><span class="p">};</span>
</span><span id="L-993"><a href="#L-993"><span class="linenos" data-line="993"></span></a>
</span><span id="L-994"><a href="#L-994"><span class="linenos" data-line="994"></span></a><span class="kd">function</span><span class="w"> </span><span class="nx">addToolbarPortletLink</span><span class="p">(</span><span class="nx">func</span><span class="p">,</span><span class="w"> </span><span class="nx">tooltip</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-995"><a href="#L-995"><span class="linenos" data-line="995"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mw</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">addPortletLink</span><span class="p">(</span>
</span><span id="L-996"><a href="#L-996"><span class="linenos" data-line="996"></span></a><span class="w">		</span><span class="s1">&#39;p-tb&#39;</span><span class="p">,</span>
</span><span id="L-997"><a href="#L-997"><span class="linenos" data-line="997"></span></a><span class="w">		</span><span class="s1">&#39;#&#39;</span><span class="p">,</span>
</span><span id="L-998"><a href="#L-998"><span class="linenos" data-line="998"></span></a><span class="w">		</span><span class="s1">&#39;DYK check&#39;</span><span class="p">,</span>
</span><span id="L-999"><a href="#L-999"><span class="linenos" data-line="999"></span></a><span class="w">		</span><span class="s1">&#39;t-dyk-check&#39;</span><span class="p">,</span>
</span><span id="L-1000"><a href="#L-1000"><span class="linenos" data-line="1000"></span></a><span class="w">		</span><span class="nx">tooltip</span>
</span><span id="L-1001"><a href="#L-1001"><span class="linenos" data-line="1001"></span></a><span class="w">	</span><span class="p">);</span>
</span><span id="L-1002"><a href="#L-1002"><span class="linenos" data-line="1002"></span></a><span class="w">	</span><span class="nx">$</span><span class="p">(</span><span class="w"> </span><span class="nx">link</span><span class="w"> </span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-1003"><a href="#L-1003"><span class="linenos" data-line="1003"></span></a><span class="w">		</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
</span><span id="L-1004"><a href="#L-1004"><span class="linenos" data-line="1004"></span></a><span class="w">		</span><span class="nx">func</span><span class="p">();</span>
</span><span id="L-1005"><a href="#L-1005"><span class="linenos" data-line="1005"></span></a><span class="w">	</span><span class="p">});</span>
</span><span id="L-1006"><a href="#L-1006"><span class="linenos" data-line="1006"></span></a><span class="p">}</span>
</span><span id="L-1007"><a href="#L-1007"><span class="linenos" data-line="1007"></span></a>
</span><span id="L-1008"><a href="#L-1008"><span class="linenos" data-line="1008"></span></a><span class="c1">// Add toolbar portlet links</span>
</span><span id="L-1009"><a href="#L-1009"><span class="linenos" data-line="1009"></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">unlock</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span>
</span><span id="L-1010"><a href="#L-1010"><span class="linenos" data-line="1010"></span></a><span class="w">		</span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgAction</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;view&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgAction</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;submit&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgAction</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;purge&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>
</span><span id="L-1011"><a href="#L-1011"><span class="linenos" data-line="1011"></span></a><span class="w">		</span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgNamespaceNumber</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgNamespaceNumber</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">2</span><span class="p">)</span>
</span><span id="L-1012"><a href="#L-1012"><span class="linenos" data-line="1012"></span></a><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-1013"><a href="#L-1013"><span class="linenos" data-line="1013"></span></a><span class="w">	</span><span class="nx">addToolbarPortletLink</span><span class="p">(</span><span class="nx">checkDocument</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Check if this article qualifies for DYK&#39;</span><span class="p">);</span>
</span><span id="L-1014"><a href="#L-1014"><span class="linenos" data-line="1014"></span></a><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgPageName</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;Template_talk:Did_you_know&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-1015"><a href="#L-1015"><span class="linenos" data-line="1015"></span></a><span class="w">	</span><span class="nx">addToolbarPortletLink</span><span class="p">(</span><span class="nx">checkTTDYK</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Check DYK nominations for eligibility&#39;</span><span class="p">);</span>
</span><span id="L-1016"><a href="#L-1016"><span class="linenos" data-line="1016"></span></a><span class="p">}</span>
</span><span id="L-1017"><a href="#L-1017"><span class="linenos" data-line="1017"></span></a>
</span><span id="L-1018"><a href="#L-1018"><span class="linenos" data-line="1018"></span></a><span class="c1">// Fix the sidebar</span>
</span><span id="L-1019"><a href="#L-1019"><span class="linenos" data-line="1019"></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgUserName</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">skin</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;monobook&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
</span><span id="L-1020"><a href="#L-1020"><span class="linenos" data-line="1020"></span></a><span class="w">		</span><span class="nx">fixedSidebar</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;always&quot;</span><span class="w"> </span><span class="o">||</span>
</span><span id="L-1021"><a href="#L-1021"><span class="linenos" data-line="1021"></span></a><span class="w">		</span><span class="nx">fixedSidebar</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;onttydk&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgPageName</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;Template_talk:Did_you_know&#39;</span>
</span><span id="L-1022"><a href="#L-1022"><span class="linenos" data-line="1022"></span></a><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-1023"><a href="#L-1023"><span class="linenos" data-line="1023"></span></a><span class="w">	</span><span class="nx">fixSidebar</span><span class="p">();</span>
</span><span id="L-1024"><a href="#L-1024"><span class="linenos" data-line="1024"></span></a><span class="p">}</span>
</span><span id="L-1025"><a href="#L-1025"><span class="linenos" data-line="1025"></span></a>
</span><span id="L-1026"><a href="#L-1026"><span class="linenos" data-line="1026"></span></a><span class="c1">// The code below for the fixed sidebar is a blend of two sources:</span>
</span><span id="L-1027"><a href="#L-1027"><span class="linenos" data-line="1027"></span></a><span class="c1">//		http://meta.wikimedia.org/wiki/Help:User_style/floating_quickbar </span>
</span><span id="L-1028"><a href="#L-1028"><span class="linenos" data-line="1028"></span></a><span class="c1">// 		http://en.wikipedia.org/wiki/User:Omegatron/monobook.js/floatingSidebar.js</span>
</span><span id="L-1029"><a href="#L-1029"><span class="linenos" data-line="1029"></span></a><span class="c1">// Very little of the code below was written by me (Shubinator)</span>
</span><span id="L-1030"><a href="#L-1030"><span class="linenos" data-line="1030"></span></a>
</span><span id="L-1031"><a href="#L-1031"><span class="linenos" data-line="1031"></span></a><span class="c1">// This CSS should be hidden from older versions of IE using javascript instead of the attribute selector?</span>
</span><span id="L-1032"><a href="#L-1032"><span class="linenos" data-line="1032"></span></a>
</span><span id="L-1033"><a href="#L-1033"><span class="linenos" data-line="1033"></span></a><span class="c1">// Include style sheet inline so that script is self-contained:</span>
</span><span id="L-1034"><a href="#L-1034"><span class="linenos" data-line="1034"></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgUserName</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
</span><span id="L-1035"><a href="#L-1035"><span class="linenos" data-line="1035"></span></a><span class="w">		</span><span class="nx">fixedSidebar</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;always&quot;</span><span class="w"> </span><span class="o">||</span>
</span><span id="L-1036"><a href="#L-1036"><span class="linenos" data-line="1036"></span></a><span class="w">		</span><span class="nx">fixedSidebar</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;onttydk&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">wgPageName</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;Template_talk:Did_you_know&#39;</span>
</span><span id="L-1037"><a href="#L-1037"><span class="linenos" data-line="1037"></span></a><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-1038"><a href="#L-1038"><span class="linenos" data-line="1038"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;head&quot;</span><span class="p">)[</span><span class="mf">0</span><span class="p">];</span>
</span><span id="L-1039"><a href="#L-1039"><span class="linenos" data-line="1039"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">);</span>
</span><span id="L-1040"><a href="#L-1040"><span class="linenos" data-line="1040"></span></a><span class="w">	</span><span class="nx">style</span><span class="p">.</span><span class="nx">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;text/css&#39;</span><span class="p">;</span>
</span><span id="L-1041"><a href="#L-1041"><span class="linenos" data-line="1041"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">sidebarDivHidden</span><span class="p">;</span>
</span><span id="L-1042"><a href="#L-1042"><span class="linenos" data-line="1042"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">sidebarDiv</span><span class="p">;</span>
</span><span id="L-1043"><a href="#L-1043"><span class="linenos" data-line="1043"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">langBody</span><span class="p">;</span>
</span><span id="L-1044"><a href="#L-1044"><span class="linenos" data-line="1044"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">skin</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;vector&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// default skin  (as of May 2010)</span>
</span><span id="L-1045"><a href="#L-1045"><span class="linenos" data-line="1045"></span></a><span class="w">		</span><span class="nx">sidebarDivHidden</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;div#mw-panel&#39;</span><span class="p">;</span>
</span><span id="L-1046"><a href="#L-1046"><span class="linenos" data-line="1046"></span></a><span class="w">		</span><span class="nx">sidebarDiv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;div#mw-panel&#39;</span><span class="p">;</span>
</span><span id="L-1047"><a href="#L-1047"><span class="linenos" data-line="1047"></span></a><span class="w">		</span><span class="nx">langBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;#p-lang .body&#39;</span><span class="p">;</span>
</span><span id="L-1048"><a href="#L-1048"><span class="linenos" data-line="1048"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// monobook, modern, and simple skins</span>
</span><span id="L-1049"><a href="#L-1049"><span class="linenos" data-line="1049"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">skin</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;modern&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-1050"><a href="#L-1050"><span class="linenos" data-line="1050"></span></a><span class="w">			</span><span class="nx">sidebarDivHidden</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;div[id=mw_portlets]&#39;</span><span class="p">;</span>
</span><span id="L-1051"><a href="#L-1051"><span class="linenos" data-line="1051"></span></a><span class="w">		</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">skin</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;simple&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-1052"><a href="#L-1052"><span class="linenos" data-line="1052"></span></a><span class="w">			</span><span class="nx">sidebarDivHidden</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;#column-one&#39;</span><span class="p">;</span>
</span><span id="L-1053"><a href="#L-1053"><span class="linenos" data-line="1053"></span></a><span class="w">		</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// monobook skin</span>
</span><span id="L-1054"><a href="#L-1054"><span class="linenos" data-line="1054"></span></a><span class="w">			</span><span class="nx">sidebarDivHidden</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;div[id=column-one]&#39;</span><span class="p">;</span><span class="w"> </span><span class="cm">/* Using the attribute selector hides this from IE */</span>
</span><span id="L-1055"><a href="#L-1055"><span class="linenos" data-line="1055"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="L-1056"><a href="#L-1056"><span class="linenos" data-line="1056"></span></a><span class="w">		</span><span class="nx">sidebarDiv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;#column-one&#39;</span><span class="p">;</span>
</span><span id="L-1057"><a href="#L-1057"><span class="linenos" data-line="1057"></span></a><span class="w">		</span><span class="nx">langBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;#p-lang .pBody&#39;</span><span class="p">;</span>
</span><span id="L-1058"><a href="#L-1058"><span class="linenos" data-line="1058"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-1059"><a href="#L-1059"><span class="linenos" data-line="1059"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">cssText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;   /* Fix the sidebar&#39;s position while you scroll */             &quot;</span><span class="o">+</span>
</span><span id="L-1060"><a href="#L-1060"><span class="linenos" data-line="1060"></span></a><span class="w">	    </span><span class="nx">sidebarDivHidden</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; {                                                      &#39;</span><span class="o">+</span>
</span><span id="L-1061"><a href="#L-1061"><span class="linenos" data-line="1061"></span></a><span class="w">	</span><span class="s1">&#39;       position: fixed;                                                        &#39;</span><span class="p">;</span>
</span><span id="L-1062"><a href="#L-1062"><span class="linenos" data-line="1062"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">skin</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;vector&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// force the sidebar to the upper left; only necessary in some skins</span>
</span><span id="L-1063"><a href="#L-1063"><span class="linenos" data-line="1063"></span></a><span class="w">	    </span><span class="nx">cssText</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s1">&#39;left: 0px;                                                      &#39;</span><span class="o">+</span>
</span><span id="L-1064"><a href="#L-1064"><span class="linenos" data-line="1064"></span></a><span class="w">	    </span><span class="s1">&#39;   top: 0px;                                                               &#39;</span><span class="p">;</span>
</span><span id="L-1065"><a href="#L-1065"><span class="linenos" data-line="1065"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">skin</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;monobook&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-1066"><a href="#L-1066"><span class="linenos" data-line="1066"></span></a><span class="w">	    </span><span class="nx">cssText</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s1">&#39;left: 0px;                                                      &#39;</span><span class="o">+</span>
</span><span id="L-1067"><a href="#L-1067"><span class="linenos" data-line="1067"></span></a><span class="w">	    </span><span class="s1">&#39;   top: -160px;                                                            &#39;</span><span class="p">;</span>
</span><span id="L-1068"><a href="#L-1068"><span class="linenos" data-line="1068"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-1069"><a href="#L-1069"><span class="linenos" data-line="1069"></span></a><span class="w">	</span><span class="nx">cssText</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s1">&#39;height: 100%;   /* If you shrink the browser too small, the     */  &#39;</span><span class="o">+</span>
</span><span id="L-1070"><a href="#L-1070"><span class="linenos" data-line="1070"></span></a><span class="w">	</span><span class="s1">&#39;       overflow: auto;     /* side column will become scrollable, so stuff */  &#39;</span><span class="o">+</span>
</span><span id="L-1071"><a href="#L-1071"><span class="linenos" data-line="1071"></span></a><span class="w">	</span><span class="s1">&#39;       z-index: 2;         /* is always accessible, albeit ugly            */  &#39;</span><span class="o">+</span>
</span><span id="L-1072"><a href="#L-1072"><span class="linenos" data-line="1072"></span></a><span class="w">	</span><span class="s1">&#39;   }                                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1073"><a href="#L-1073"><span class="linenos" data-line="1073"></span></a><span class="w">	</span><span class="s1">&#39;                                                                               &#39;</span><span class="o">+</span>
</span><span id="L-1074"><a href="#L-1074"><span class="linenos" data-line="1074"></span></a><span class="w">	</span><span class="s1">&#39;   #p-logo {               /* Make logo inline with other divs             */  &#39;</span><span class="o">+</span>
</span><span id="L-1075"><a href="#L-1075"><span class="linenos" data-line="1075"></span></a><span class="w">	</span><span class="s1">&#39;       position:static;                                                        &#39;</span><span class="o">+</span>
</span><span id="L-1076"><a href="#L-1076"><span class="linenos" data-line="1076"></span></a><span class="w">	</span><span class="s1">&#39;   }                                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1077"><a href="#L-1077"><span class="linenos" data-line="1077"></span></a><span class="w">	</span><span class="s1">&#39;                                                                               &#39;</span><span class="o">+</span>
</span><span id="L-1078"><a href="#L-1078"><span class="linenos" data-line="1078"></span></a><span class="w">	    </span><span class="nx">sidebarDiv</span><span class="w">       </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; {  /* Sidebar column start at the top screen edge  */  &#39;</span><span class="o">+</span>
</span><span id="L-1079"><a href="#L-1079"><span class="linenos" data-line="1079"></span></a><span class="w">	</span><span class="s1">&#39;       padding-top: 0;                                                         &#39;</span><span class="o">+</span>
</span><span id="L-1080"><a href="#L-1080"><span class="linenos" data-line="1080"></span></a><span class="w">	</span><span class="s1">&#39;   }                                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1081"><a href="#L-1081"><span class="linenos" data-line="1081"></span></a><span class="w">	</span><span class="s1">&#39;                                                                               &#39;</span><span class="o">+</span>
</span><span id="L-1082"><a href="#L-1082"><span class="linenos" data-line="1082"></span></a><span class="w">	    </span><span class="nx">langBody</span><span class="w"> </span><span class="o">+</span><span class="w"> 	  </span><span class="s1">&#39; ul{      /* Sets the language box to a fixed height and  */ &#39;</span><span class="o">+</span>
</span><span id="L-1083"><a href="#L-1083"><span class="linenos" data-line="1083"></span></a><span class="w">	</span><span class="s1">&#39;       height: 6em;        /* scrollable if too long to fit on screen      */  &#39;</span><span class="o">+</span>
</span><span id="L-1084"><a href="#L-1084"><span class="linenos" data-line="1084"></span></a><span class="w">	</span><span class="s1">&#39;       overflow: auto;                                                         &#39;</span><span class="o">+</span>
</span><span id="L-1085"><a href="#L-1085"><span class="linenos" data-line="1085"></span></a><span class="w">	</span><span class="s1">&#39;   }                                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1086"><a href="#L-1086"><span class="linenos" data-line="1086"></span></a><span class="w">	</span><span class="s1">&#39;                                                                               &#39;</span><span class="o">+</span>
</span><span id="L-1087"><a href="#L-1087"><span class="linenos" data-line="1087"></span></a><span class="w">	</span><span class="s1">&#39;   /* Fix the background image, too, so it looks nice as you scroll */         &#39;</span><span class="o">+</span>
</span><span id="L-1088"><a href="#L-1088"><span class="linenos" data-line="1088"></span></a><span class="w">	</span><span class="s1">&#39;   body {                                                                      &#39;</span><span class="o">+</span>
</span><span id="L-1089"><a href="#L-1089"><span class="linenos" data-line="1089"></span></a><span class="w">	</span><span class="s1">&#39;       background-attachment: fixed;                                           &#39;</span><span class="o">+</span>
</span><span id="L-1090"><a href="#L-1090"><span class="linenos" data-line="1090"></span></a><span class="w">	</span><span class="s1">&#39;   }                                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1091"><a href="#L-1091"><span class="linenos" data-line="1091"></span></a><span class="w">	</span><span class="s1">&#39;                                                                               &#39;</span><span class="o">+</span>
</span><span id="L-1092"><a href="#L-1092"><span class="linenos" data-line="1092"></span></a><span class="w">	</span><span class="s2">&quot;   /* Fix the footer so it looks nice and doesn&#39;t overlap the sidebar */       &quot;</span><span class="o">+</span>
</span><span id="L-1093"><a href="#L-1093"><span class="linenos" data-line="1093"></span></a><span class="w">	</span><span class="s1">&#39;   #footer {                                                                   &#39;</span><span class="o">+</span>
</span><span id="L-1094"><a href="#L-1094"><span class="linenos" data-line="1094"></span></a><span class="w">	</span><span class="s1">&#39;       margin-left: 13.6em;                                                    &#39;</span><span class="o">+</span>
</span><span id="L-1095"><a href="#L-1095"><span class="linenos" data-line="1095"></span></a><span class="w">	</span><span class="s1">&#39;       border-left: solid 1px rgb(250, 189, 35);                               &#39;</span><span class="o">+</span>
</span><span id="L-1096"><a href="#L-1096"><span class="linenos" data-line="1096"></span></a><span class="w">	</span><span class="s1">&#39;       -moz-border-radius-topleft: 1em;                                        &#39;</span><span class="o">+</span>
</span><span id="L-1097"><a href="#L-1097"><span class="linenos" data-line="1097"></span></a><span class="w">	</span><span class="s1">&#39;       -moz-border-radius-bottomleft: 1em;                                     &#39;</span><span class="o">+</span>
</span><span id="L-1098"><a href="#L-1098"><span class="linenos" data-line="1098"></span></a><span class="w">	</span><span class="s1">&#39;   }                                                                           &#39;</span><span class="p">;</span>
</span><span id="L-1099"><a href="#L-1099"><span class="linenos" data-line="1099"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mwConfig</span><span class="p">.</span><span class="nx">skin</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;monobook&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-1100"><a href="#L-1100"><span class="linenos" data-line="1100"></span></a><span class="w">	    </span><span class="nx">cssText</span><span class="w"> </span><span class="o">+=</span><span class="w"> 	</span><span class="s1">&#39;   /* Keep personal links at the top right */                  &#39;</span><span class="o">+</span>
</span><span id="L-1101"><a href="#L-1101"><span class="linenos" data-line="1101"></span></a><span class="w">	</span><span class="s1">&#39;   #p-personal {                                                               &#39;</span><span class="o">+</span>
</span><span id="L-1102"><a href="#L-1102"><span class="linenos" data-line="1102"></span></a><span class="w">	</span><span class="s1">&#39;       width:100%;                                                             &#39;</span><span class="o">+</span>
</span><span id="L-1103"><a href="#L-1103"><span class="linenos" data-line="1103"></span></a><span class="w">	</span><span class="s1">&#39;       white-space:nowrap;                                                     &#39;</span><span class="o">+</span>
</span><span id="L-1104"><a href="#L-1104"><span class="linenos" data-line="1104"></span></a><span class="w">	</span><span class="s1">&#39;       padding:0 0 0 0;                                                        &#39;</span><span class="o">+</span>
</span><span id="L-1105"><a href="#L-1105"><span class="linenos" data-line="1105"></span></a><span class="w">	</span><span class="s1">&#39;       margin:0;                                                               &#39;</span><span class="o">+</span>
</span><span id="L-1106"><a href="#L-1106"><span class="linenos" data-line="1106"></span></a><span class="w">	</span><span class="s1">&#39;       position:absolute;                                                      &#39;</span><span class="o">+</span>
</span><span id="L-1107"><a href="#L-1107"><span class="linenos" data-line="1107"></span></a><span class="w">	</span><span class="s1">&#39;       left:0px;                                                               &#39;</span><span class="o">+</span>
</span><span id="L-1108"><a href="#L-1108"><span class="linenos" data-line="1108"></span></a><span class="w">	</span><span class="s1">&#39;       top:0px;                                                                &#39;</span><span class="o">+</span>
</span><span id="L-1109"><a href="#L-1109"><span class="linenos" data-line="1109"></span></a><span class="w">	</span><span class="s1">&#39;       z-index: 0;                                                             &#39;</span><span class="o">+</span>
</span><span id="L-1110"><a href="#L-1110"><span class="linenos" data-line="1110"></span></a><span class="w">	</span><span class="s1">&#39;       border: none;                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1111"><a href="#L-1111"><span class="linenos" data-line="1111"></span></a><span class="w">	</span><span class="s1">&#39;       background: none;                                                       &#39;</span><span class="o">+</span>
</span><span id="L-1112"><a href="#L-1112"><span class="linenos" data-line="1112"></span></a><span class="w">	</span><span class="s1">&#39;       overflow: visible;                                                      &#39;</span><span class="o">+</span>
</span><span id="L-1113"><a href="#L-1113"><span class="linenos" data-line="1113"></span></a><span class="w">	</span><span class="s1">&#39;       line-height: 1.2em;                                                     &#39;</span><span class="o">+</span>
</span><span id="L-1114"><a href="#L-1114"><span class="linenos" data-line="1114"></span></a><span class="w">	</span><span class="s1">&#39;   }                                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1115"><a href="#L-1115"><span class="linenos" data-line="1115"></span></a><span class="w">	</span><span class="s1">&#39;                                                                               &#39;</span><span class="o">+</span>
</span><span id="L-1116"><a href="#L-1116"><span class="linenos" data-line="1116"></span></a><span class="w">	</span><span class="s1">&#39;   #p-personal h5 {                                                            &#39;</span><span class="o">+</span>
</span><span id="L-1117"><a href="#L-1117"><span class="linenos" data-line="1117"></span></a><span class="w">	</span><span class="s1">&#39;       display:none;                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1118"><a href="#L-1118"><span class="linenos" data-line="1118"></span></a><span class="w">	</span><span class="s1">&#39;   }                                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1119"><a href="#L-1119"><span class="linenos" data-line="1119"></span></a><span class="w">	</span><span class="s1">&#39;   #p-personal .portlet,                                                       &#39;</span><span class="o">+</span>
</span><span id="L-1120"><a href="#L-1120"><span class="linenos" data-line="1120"></span></a><span class="w">	</span><span class="s1">&#39;   #p-personal .pBody {                                                        &#39;</span><span class="o">+</span>
</span><span id="L-1121"><a href="#L-1121"><span class="linenos" data-line="1121"></span></a><span class="w">	</span><span class="s1">&#39;       padding:0;                                                              &#39;</span><span class="o">+</span>
</span><span id="L-1122"><a href="#L-1122"><span class="linenos" data-line="1122"></span></a><span class="w">	</span><span class="s1">&#39;       margin:0;                                                               &#39;</span><span class="o">+</span>
</span><span id="L-1123"><a href="#L-1123"><span class="linenos" data-line="1123"></span></a><span class="w">	</span><span class="s1">&#39;       border: none;                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1124"><a href="#L-1124"><span class="linenos" data-line="1124"></span></a><span class="w">	</span><span class="s1">&#39;       z-index:0;                                                              &#39;</span><span class="o">+</span>
</span><span id="L-1125"><a href="#L-1125"><span class="linenos" data-line="1125"></span></a><span class="w">	</span><span class="s1">&#39;       overflow: visible;                                                      &#39;</span><span class="o">+</span>
</span><span id="L-1126"><a href="#L-1126"><span class="linenos" data-line="1126"></span></a><span class="w">	</span><span class="s1">&#39;       background: none;                                                       &#39;</span><span class="o">+</span>
</span><span id="L-1127"><a href="#L-1127"><span class="linenos" data-line="1127"></span></a><span class="w">	</span><span class="s1">&#39;   }                                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1128"><a href="#L-1128"><span class="linenos" data-line="1128"></span></a><span class="w">	</span><span class="s1">&#39;   /* this is the ul contained in the portlet */                               &#39;</span><span class="o">+</span>
</span><span id="L-1129"><a href="#L-1129"><span class="linenos" data-line="1129"></span></a><span class="w">	</span><span class="s1">&#39;   #p-personal ul {                                                            &#39;</span><span class="o">+</span>
</span><span id="L-1130"><a href="#L-1130"><span class="linenos" data-line="1130"></span></a><span class="w">	</span><span class="s1">&#39;       border: none;                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1131"><a href="#L-1131"><span class="linenos" data-line="1131"></span></a><span class="w">	</span><span class="s1">&#39;       line-height: 1.4em;                                                     &#39;</span><span class="o">+</span>
</span><span id="L-1132"><a href="#L-1132"><span class="linenos" data-line="1132"></span></a><span class="w">	</span><span class="s1">&#39;       color: #2f6fab;                                                         &#39;</span><span class="o">+</span>
</span><span id="L-1133"><a href="#L-1133"><span class="linenos" data-line="1133"></span></a><span class="w">	</span><span class="s1">&#39;       padding: 0em 2em 0 3em;                                                 &#39;</span><span class="o">+</span>
</span><span id="L-1134"><a href="#L-1134"><span class="linenos" data-line="1134"></span></a><span class="w">	</span><span class="s1">&#39;       margin: 0;                                                              &#39;</span><span class="o">+</span>
</span><span id="L-1135"><a href="#L-1135"><span class="linenos" data-line="1135"></span></a><span class="w">	</span><span class="s1">&#39;       text-align: right;                                                      &#39;</span><span class="o">+</span>
</span><span id="L-1136"><a href="#L-1136"><span class="linenos" data-line="1136"></span></a><span class="w">	</span><span class="s1">&#39;       text-transform: lowercase;                                              &#39;</span><span class="o">+</span>
</span><span id="L-1137"><a href="#L-1137"><span class="linenos" data-line="1137"></span></a><span class="w">	</span><span class="s1">&#39;       list-style: none;                                                       &#39;</span><span class="o">+</span>
</span><span id="L-1138"><a href="#L-1138"><span class="linenos" data-line="1138"></span></a><span class="w">	</span><span class="s1">&#39;       z-index:0;                                                              &#39;</span><span class="o">+</span>
</span><span id="L-1139"><a href="#L-1139"><span class="linenos" data-line="1139"></span></a><span class="w">	</span><span class="s1">&#39;       background: none;                                                       &#39;</span><span class="o">+</span>
</span><span id="L-1140"><a href="#L-1140"><span class="linenos" data-line="1140"></span></a><span class="w">	</span><span class="s1">&#39;   }                                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1141"><a href="#L-1141"><span class="linenos" data-line="1141"></span></a><span class="w">	</span><span class="s1">&#39;   #p-personal li {                                                            &#39;</span><span class="o">+</span>
</span><span id="L-1142"><a href="#L-1142"><span class="linenos" data-line="1142"></span></a><span class="w">	</span><span class="s1">&#39;       z-index:0;                                                              &#39;</span><span class="o">+</span>
</span><span id="L-1143"><a href="#L-1143"><span class="linenos" data-line="1143"></span></a><span class="w">	</span><span class="s1">&#39;       border:none;                                                            &#39;</span><span class="o">+</span>
</span><span id="L-1144"><a href="#L-1144"><span class="linenos" data-line="1144"></span></a><span class="w">	</span><span class="s1">&#39;       padding:0;                                                              &#39;</span><span class="o">+</span>
</span><span id="L-1145"><a href="#L-1145"><span class="linenos" data-line="1145"></span></a><span class="w">	</span><span class="s1">&#39;       display: inline;                                                        &#39;</span><span class="o">+</span>
</span><span id="L-1146"><a href="#L-1146"><span class="linenos" data-line="1146"></span></a><span class="w">	</span><span class="s1">&#39;       color: #2f6fab;                                                         &#39;</span><span class="o">+</span>
</span><span id="L-1147"><a href="#L-1147"><span class="linenos" data-line="1147"></span></a><span class="w">	</span><span class="s1">&#39;       margin-left: 1em;                                                       &#39;</span><span class="o">+</span>
</span><span id="L-1148"><a href="#L-1148"><span class="linenos" data-line="1148"></span></a><span class="w">	</span><span class="s1">&#39;       line-height: 1.2em;                                                     &#39;</span><span class="o">+</span>
</span><span id="L-1149"><a href="#L-1149"><span class="linenos" data-line="1149"></span></a><span class="w">	</span><span class="s1">&#39;       background: none;                                                       &#39;</span><span class="o">+</span>
</span><span id="L-1150"><a href="#L-1150"><span class="linenos" data-line="1150"></span></a><span class="w">	</span><span class="s1">&#39;   }                                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1151"><a href="#L-1151"><span class="linenos" data-line="1151"></span></a><span class="w">	</span><span class="s1">&#39;   #p-personal li a {                                                          &#39;</span><span class="o">+</span>
</span><span id="L-1152"><a href="#L-1152"><span class="linenos" data-line="1152"></span></a><span class="w">	</span><span class="s1">&#39;       text-decoration: none;                                                  &#39;</span><span class="o">+</span>
</span><span id="L-1153"><a href="#L-1153"><span class="linenos" data-line="1153"></span></a><span class="w">	</span><span class="s1">&#39;       color: #005896;                                                         &#39;</span><span class="o">+</span>
</span><span id="L-1154"><a href="#L-1154"><span class="linenos" data-line="1154"></span></a><span class="w">	</span><span class="s1">&#39;       padding-bottom: 0.2em;                                                  &#39;</span><span class="o">+</span>
</span><span id="L-1155"><a href="#L-1155"><span class="linenos" data-line="1155"></span></a><span class="w">	</span><span class="s1">&#39;       background: none;                                                       &#39;</span><span class="o">+</span>
</span><span id="L-1156"><a href="#L-1156"><span class="linenos" data-line="1156"></span></a><span class="w">	</span><span class="s1">&#39;   }                                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1157"><a href="#L-1157"><span class="linenos" data-line="1157"></span></a><span class="w">	</span><span class="s1">&#39;   #p-personal li a:hover {                                                    &#39;</span><span class="o">+</span>
</span><span id="L-1158"><a href="#L-1158"><span class="linenos" data-line="1158"></span></a><span class="w">	</span><span class="s1">&#39;       background-color: White;                                                &#39;</span><span class="o">+</span>
</span><span id="L-1159"><a href="#L-1159"><span class="linenos" data-line="1159"></span></a><span class="w">	</span><span class="s1">&#39;       padding-bottom: 0.2em;                                                  &#39;</span><span class="o">+</span>
</span><span id="L-1160"><a href="#L-1160"><span class="linenos" data-line="1160"></span></a><span class="w">	</span><span class="s1">&#39;       text-decoration: none;                                                  &#39;</span><span class="o">+</span>
</span><span id="L-1161"><a href="#L-1161"><span class="linenos" data-line="1161"></span></a><span class="w">	</span><span class="s1">&#39;   }                                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1162"><a href="#L-1162"><span class="linenos" data-line="1162"></span></a><span class="w">	</span><span class="s1">&#39;   /* Keep the small user figure left of your user name */                     &#39;</span><span class="o">+</span>
</span><span id="L-1163"><a href="#L-1163"><span class="linenos" data-line="1163"></span></a><span class="w">	</span><span class="s1">&#39;   li#pt-userpage,                                                             &#39;</span><span class="o">+</span>
</span><span id="L-1164"><a href="#L-1164"><span class="linenos" data-line="1164"></span></a><span class="w">	</span><span class="s1">&#39;   li#pt-anonuserpage,                                                         &#39;</span><span class="o">+</span>
</span><span id="L-1165"><a href="#L-1165"><span class="linenos" data-line="1165"></span></a><span class="w">	</span><span class="s1">&#39;   li#pt-login {                                                               &#39;</span><span class="o">+</span>
</span><span id="L-1166"><a href="#L-1166"><span class="linenos" data-line="1166"></span></a><span class="w">	</span><span class="s1">&#39;       background: url(/skins-1.5/monobook/user.gif) top left no-repeat;       &#39;</span><span class="o">+</span>
</span><span id="L-1167"><a href="#L-1167"><span class="linenos" data-line="1167"></span></a><span class="w">	</span><span class="s1">&#39;       padding-left: 20px;                                                     &#39;</span><span class="o">+</span>
</span><span id="L-1168"><a href="#L-1168"><span class="linenos" data-line="1168"></span></a><span class="w">	</span><span class="s1">&#39;       text-transform: none;                                                   &#39;</span><span class="o">+</span>
</span><span id="L-1169"><a href="#L-1169"><span class="linenos" data-line="1169"></span></a><span class="w">	</span><span class="s1">&#39;   }                                                                           &#39;</span><span class="o">+</span>
</span><span id="L-1170"><a href="#L-1170"><span class="linenos" data-line="1170"></span></a><span class="w">	</span><span class="s1">&#39;                                                                               &#39;</span><span class="p">;</span>
</span><span id="L-1171"><a href="#L-1171"><span class="linenos" data-line="1171"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-1172"><a href="#L-1172"><span class="linenos" data-line="1172"></span></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">rules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">cssText</span><span class="p">);</span>
</span><span id="L-1173"><a href="#L-1173"><span class="linenos" data-line="1173"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">style</span><span class="p">.</span><span class="nx">styleSheet</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-1174"><a href="#L-1174"><span class="linenos" data-line="1174"></span></a><span class="w">		</span><span class="nx">style</span><span class="p">.</span><span class="nx">styleSheet</span><span class="p">.</span><span class="nx">cssText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">rules</span><span class="p">.</span><span class="nx">nodeValue</span><span class="p">;</span>
</span><span id="L-1175"><a href="#L-1175"><span class="linenos" data-line="1175"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="L-1176"><a href="#L-1176"><span class="linenos" data-line="1176"></span></a><span class="w">		</span><span class="nx">style</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">rules</span><span class="p">);</span>
</span><span id="L-1177"><a href="#L-1177"><span class="linenos" data-line="1177"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="L-1178"><a href="#L-1178"><span class="linenos" data-line="1178"></span></a><span class="w">	</span><span class="nx">head</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">style</span><span class="p">);</span>
</span><span id="L-1179"><a href="#L-1179"><span class="linenos" data-line="1179"></span></a><span class="p">}</span>
</span><span id="L-1180"><a href="#L-1180"><span class="linenos" data-line="1180"></span></a>
</span><span id="L-1181"><a href="#L-1181"><span class="linenos" data-line="1181"></span></a><span class="p">});</span>
</span></pre></div>
<!-- 
NewPP limit report
Parsed by mw‐web.codfw.main‐55789575cb‐vxp5r
Cached time: 20250327093407
Cache expiry: 2592000
Reduced expiry: false
Complications: []
CPU time usage: 0.039 seconds
Real time usage: 0.065 seconds
Preprocessor visited node count: 66/1000000
Post‐expand include size: 2033/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 9/100
Expensive parser function count: 0/500
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
Lua time usage: 0.006/10.000 seconds
Lua memory usage: 617373/52428800 bytes
Number of Wikibase entities loaded: 0/400
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   42.199      1 -total
 90.32%   38.115      1 आकृति:ITN_talk
 62.68%   26.449      1 आकृति:Tmbox
 12.25%    5.169      1 आकृति:ITN_talk/date
  3.56%    1.504      1 आकृति:Talk_other
  2.59%    1.095      1 आकृति:ITNtalk
  2.45%    1.036      1 आकृति:ITNTalk
  2.12%    0.896      2 आकृति:GA
  1.70%    0.718      1 आकृति:Game
-->
</div><!--esi <esi:include src="/esitest-fa8a495983347898/content" /> --><noscript><img src="https://auth.wikimedia.org/loginwiki/wiki/Special:CentralAutoLogin/start?useformat=desktop&amp;type=1x1&amp;usesul3=1" alt="" width="1" height="1" style="border: none; position: absolute;"></noscript>
<div class="printfooter" data-nosnippet="">प्राप्ति स्थल "<a dir="ltr" href="https://mai.wikipedia.org/w/index.php?title=प्रयोगकर्ता:Jim_Carter/vector.js&amp;oldid=137754">https://mai.wikipedia.org/w/index.php?title=प्रयोगकर्ता:Jim_Carter/vector.js&amp;oldid=137754</a>"</div></div>
					<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> ई पृष्ठक नवीनतम परिवर्तन ३ अप्रैल २०१७ कें १६:३८ बजे भेल छल।</li>
	<li id="footer-info-copyright">पाठ <a rel="nofollow" class="external text" href="//creativecommons.org/licenses/by-sa/4.0/">क्रियेटिव कमन्स ऐट्रिब्यूशन/शेयर-अलाइक लाइसेन्स</a> के अन्तर्गत उपलब्ध अछि; अतिरिक्त शर्तसभ लागू भऽ सकैत अछि।
अधिक जानकारी के लेल <a class="external text" href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Terms_of_Use">उपयोग कऽ शर्तसभ</a> देखब।</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Privacy_policy">गोपनीयताक नियम</a></li>
	<li id="footer-places-about"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%95%E0%A4%BF%E0%A4%AA%E0%A4%BF%E0%A4%A1%E0%A4%BF%E0%A4%AF%E0%A4%BE:%E0%A4%B8%E0%A4%AE%E0%A5%8D%E0%A4%AC%E0%A4%A8%E0%A5%8D%E0%A4%A7%E0%A4%AE%E0%A5%87%E0%A4%82">विकिपिडियाक बारेमे</a></li>
	<li id="footer-places-disclaimers"><a href="/wiki/%E0%A4%B5%E0%A4%BF%E0%A4%95%E0%A4%BF%E0%A4%AA%E0%A4%BF%E0%A4%A1%E0%A4%BF%E0%A4%AF%E0%A4%BE:%E0%A4%85%E0%A4%A8%E0%A4%BE%E0%A4%A7%E0%A4%BF%E0%A4%95%E0%A4%BE%E0%A4%B0_%E0%A4%98%E0%A5%8B%E0%A4%B7%E0%A4%A3%E0%A4%BE">अनाधिकार घोषणा</a></li>
	<li id="footer-places-wm-codeofconduct"><a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Universal_Code_of_Conduct">आचार संहिता</a></li>
	<li id="footer-places-developers"><a href="https://developer.wikimedia.org">विकासकर्तासभ</a></li>
	<li id="footer-places-statslink"><a href="https://stats.wikimedia.org/#/mai.wikipedia.org">सांख्यिकी</a></li>
	<li id="footer-places-cookiestatement"><a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Cookie_statement">कुकी का वर्णन</a></li>
	<li id="footer-places-mobileview"><a href="//mai.m.wikipedia.org/w/index.php?title=%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%AF%E0%A5%8B%E0%A4%97%E0%A4%95%E0%A4%B0%E0%A5%8D%E0%A4%A4%E0%A4%BE:Jim_Carter/vector.js&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">मोबाइल दृष्टि</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.wikimedia.org/" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><picture><source media="(min-width: 500px)" srcset="/static/images/footer/wikimedia-button.svg" width="84" height="29"><img src="/static/images/footer/wikimedia.svg" width="25" height="25" alt="Wikimedia Foundation" lang="en" loading="lazy"></picture></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><picture><source media="(min-width: 500px)" srcset="/w/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/w/resources/assets/mediawiki_compact.svg" alt="Powered by MediaWiki" lang="en" width="25" height="25" loading="lazy"></picture></a></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>ताकी</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/w/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div  class="cdx-search-input__input-wrapper"  data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input
									class="cdx-text-input__input"
									
									type="search" name="search" placeholder="विकिपिडियामे खोजी">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="विशेष:खोज">
						</div>
						<button class="cdx-button cdx-search-input__end-button">ताकी</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true" ><span class="mw-page-title-namespace">प्रयोगकर्ता</span><span class="mw-page-title-separator">:</span><span class="mw-page-title-main">Jim Carter/vector.js</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<button class="cdx-button cdx-button--weight-quiet mw-interlanguage-selector" id="p-lang-btn-sticky-header" tabindex="-1" data-event-name="ui.dropdown-p-lang-btn-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-language mw-ui-icon-wikimedia-wikimedia-language"></span>

<span>भाषाएँ जोड़ें</span>
			</button>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>विचार-बिन्दु जोडी</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgHostname":"mw-web.codfw.main-55789575cb-vxp5r","wgBackendResponseTime":525,"wgPageParseReport":{"limitreport":{"cputime":"0.002","walltime":"0.002","ppvisitednodes":{"value":2,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":1,"limit":100},"expensivefunctioncount":{"value":0,"limit":500},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"entityaccesscount":{"value":0,"limit":400},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"origin":"mw-web.codfw.main-55789575cb-vxp5r","timestamp":"20250327093407","ttl":2592000,"transientcontent":false}}});});</script>
</body>
</html>